{"version":3,"sources":["webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?e4a2","webpack://_N_E/./node_modules/antd/es/divider/index.js","webpack://_N_E/./pages/tag/[tagName].tsx","webpack://_N_E/./components/PostCard.tsx"],"names":["window","__NEXT_P","push","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","props","_ref","_classNames","getPrefixCls","direction","customizePrefixCls","prefixCls","_props$type","type","_props$orientation","orientation","className","children","dashed","plain","restProps","orientationPrefix","concat","hasChildren","classString","role","TagPage","initialPosts","posts","tagName","useRouter","query","userData","useSelector","state","post","hasMorePosts","useSWR","fetcher","data","postsData","encodeURIComponent","initialData","status","justify","gutter","span","map","id","TitleWrapper","styled","div","CoverImage","img","Text","Typography","PostCard","avatarVisible","href","alt","title","src","Images","strong","User","marginRight"],"mappings":"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","file":"static/chunks/pages/tag/[tagName]-a8bb3a6af262afb81b06.js","sourcesContent":["\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/tag/[tagName]\",\n        function () {\n          return require(\"private-next-pages/tag/[tagName].tsx\");\n        }\n      ]);\n    ","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Divider = function Divider(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var _classNames;\n\n    var getPrefixCls = _ref.getPrefixCls,\n        direction = _ref.direction;\n\n    var customizePrefixCls = props.prefixCls,\n        _props$type = props.type,\n        type = _props$type === void 0 ? 'horizontal' : _props$type,\n        _props$orientation = props.orientation,\n        orientation = _props$orientation === void 0 ? 'center' : _props$orientation,\n        className = props.className,\n        children = props.children,\n        dashed = props.dashed,\n        plain = props.plain,\n        restProps = __rest(props, [\"prefixCls\", \"type\", \"orientation\", \"className\", \"children\", \"dashed\", \"plain\"]);\n\n    var prefixCls = getPrefixCls('divider', customizePrefixCls);\n    var orientationPrefix = orientation.length > 0 ? \"-\".concat(orientation) : orientation;\n    var hasChildren = !!children;\n    var classString = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(type), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-text\"), hasChildren), _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-text\").concat(orientationPrefix), hasChildren), _defineProperty(_classNames, \"\".concat(prefixCls, \"-dashed\"), !!dashed), _defineProperty(_classNames, \"\".concat(prefixCls, \"-plain\"), !!plain), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: classString\n    }, restProps, {\n      role: \"separator\"\n    }), children && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-inner-text\")\n    }, children));\n  });\n};\n\nexport default Divider;","import React from 'react';\r\n// @ts-ignore\r\nimport { useSelector } from 'react-redux';\r\nimport { Row, Col, Divider } from 'antd';\r\nimport useSWR from 'swr';\r\nimport { useRouter } from 'next/router';\r\nimport AppLayout from '@components/AppLayout';\r\nimport PostCard from '@components/PostCard';\r\nimport { fetcher } from '@utils/fetcher';\r\nimport { IPost } from '@typings/IPost';\r\nimport ExpiredValidation from '@components/ExpiredValidation';\r\nimport { IUser } from '@typings/IUser';\r\nimport wrapper from '../../store/configureStore';\r\n\r\ninterface Props {\r\n  posts: IPost[];\r\n}\r\n\r\nconst TagPage = ({ posts: initialPosts }: Props) => {\r\n  const router = useRouter();\r\n  const { tagName } = router.query;\r\n\r\n  const { hasMorePosts } = useSelector((state: any) => state.post);\r\n\r\n  const { data: userData } = useSWR<IUser>('/api/user', fetcher);\r\n  // @ts-ignore\r\n  const { data: postsData } = useSWR(`/api/posts/tag/${encodeURIComponent(tagName)}?lastId=0`, fetcher, {\r\n    initialData: initialPosts,\r\n  });\r\n\r\n  if (userData?.status === 'pending') {\r\n    return <ExpiredValidation />;\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Row justify=\"center\" gutter={16}>\r\n        <Col span={18}>\r\n          <Row gutter={[8, 8]}>\r\n            <Divider orientation=\"left\">{`${tagName} - 태그 검색 결과`}</Divider>\r\n            {postsData?.map((post: IPost) => (\r\n              <Col span={4} key={post.id}>\r\n                <PostCard key={post.id} post={post} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </AppLayout>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps(async (context) => {\r\n  // @ts-ignore\r\n  const posts = await fetcher(`/api/posts/tag/${encodeURIComponent(context.params?.tagName)}?lastId=0`);\r\n  return { props: { posts } };\r\n});\r\n\r\nexport default TagPage;\r\n","import React from 'react';\r\nimport { Typography } from 'antd';\r\nimport Link from 'next/link';\r\nimport styled from 'styled-components';\r\nimport { IPost } from '@typings/IPost';\r\nimport UserAvatar from '@components/UserAvatar';\r\n\r\nconst TitleWrapper = styled.div`\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst CoverImage = styled.img`\r\n  width: 100%;\r\n  height: 140px;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n  transition: 0.2s;\r\n\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\nconst { Text } = Typography;\r\n\r\ninterface Props {\r\n  post: IPost;\r\n  avatarVisible?: boolean;\r\n}\r\n\r\nconst PostCard = ({ post, avatarVisible = true }: Props) => {\r\n  return (\r\n    <>\r\n      <Link href={`/illustration/${post.id}`}>\r\n        <a>\r\n          <CoverImage alt={post.title} src={`http://localhost:3100/${post.Images[0].src}`} />\r\n        </a>\r\n      </Link>\r\n      <TitleWrapper>\r\n        <Link href={`/illustration/${post.id}`}>\r\n          <a>\r\n            <Text strong>{post.title}</Text>\r\n          </a>\r\n        </Link>\r\n      </TitleWrapper>\r\n      {avatarVisible && (\r\n        <Link href={`/user/${post.User.id}/illustration`}>\r\n          <a>\r\n            <UserAvatar userData={post.User} marginRight={4} />\r\n          </a>\r\n        </Link>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostCard;\r\n"],"sourceRoot":""}