{"version":3,"sources":["webpack://_N_E/./components/LoginForm.tsx","webpack://_N_E/./pages/login.tsx","webpack://_N_E/./node_modules/next/link.js","webpack://_N_E/../../client/link.tsx","webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?576a","webpack://_N_E/../../client/use-intersection.tsx"],"names":["Text","Typography","ButtonWrapper","styled","div","FormItem","Form","Item","LoginForm","dispatch","useDispatch","useSelector","state","user","logInLoading","logInError","useInput","email","onChangeEmail","password","onChangePassword","useEffect","Modal","error","content","message","onFinish","useCallback","console","log","loginRequestAction","title","layout","type","value","onChange","placeholder","size","htmlType","loading","shape","block","href","style","float","BackgroundImage","Title","login","router","useRouter","useSWR","fetcher","userData","data","revalidate","logInDone","back","justify","align","height","xs","md","textAlign","opacity","borderRadius","direction","width","level","margin","module","exports","prefetched","prefetch","isLocalURL","err","curLocale","options","props","p","pathname","React","resolveHref","as","resolvedAs","children","child","Children","childRef","useIntersection","rootMargin","setRef","el","setIntersectionRef","shouldPrefetch","isVisible","locale","isPrefetched","childProps","ref","onClick","e","nodeName","event","target","isModifiedEvent","scroll","replace","shallow","success","document","linkClicked","priority","localeDomain","getDomainLocale","addBasePath","addLocale","window","__NEXT_P","push","isDisabled","unobserve","useState","id","instance","observers","elements","observer","IntersectionObserver","entries","entry","callback","createObserver","observe","setVisible","hasIntersectionObserver"],"mappings":"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","file":"static/chunks/pages/login-ec588dc41456077888d3.js","sourcesContent":["import React, { useCallback, useEffect } from 'react';\r\n// @ts-ignore\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Link from 'next/link';\r\nimport { Form, Input, Button, Typography, Modal } from 'antd';\r\nimport styled from 'styled-components';\r\nimport useInput from '@hooks/useInput';\r\nimport { loginRequestAction } from '../reducers/user';\r\n\r\nconst { Text } = Typography;\r\n\r\nconst ButtonWrapper = styled.div`\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst FormItem = styled(Form.Item)`\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst LoginForm = () => {\r\n  const dispatch = useDispatch();\r\n  const { logInLoading, logInError } = useSelector((state: any) => state.user);\r\n  const [email, onChangeEmail] = useInput('');\r\n  const [password, onChangePassword] = useInput('');\r\n\r\n  useEffect(() => {\r\n    if (logInError) {\r\n      Modal.error({\r\n        content: logInError.message,\r\n      });\r\n    }\r\n  }, [logInError]);\r\n\r\n  const onFinish = useCallback(() => {\r\n    if (!email || !password) {\r\n      return Modal.error({\r\n        title: '로그인 오류',\r\n        content: '이메일 또는 비밀번호를 입력해 주세요.',\r\n      });\r\n    }\r\n    console.log({ email, password });\r\n    return dispatch(loginRequestAction({ email, password }));\r\n  }, [email, password]);\r\n\r\n  return (\r\n    <Form onFinish={onFinish} layout=\"vertical\">\r\n      <FormItem>\r\n        <Input type=\"email\" value={email} onChange={onChangeEmail} placeholder=\"이메일\" size=\"large\" />\r\n      </FormItem>\r\n      <FormItem>\r\n        <Input type=\"password\" value={password} onChange={onChangePassword} placeholder=\"비밀번호\" size=\"large\" />\r\n      </FormItem>\r\n      <FormItem>\r\n        <ButtonWrapper>\r\n          <Button type=\"primary\" htmlType=\"submit\" loading={logInLoading} size=\"large\" shape=\"round\" block>\r\n            로그인\r\n          </Button>\r\n        </ButtonWrapper>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Link href=\"/signup\">\r\n          <a>\r\n            <Button htmlType=\"submit\" size=\"large\" shape=\"round\" block>\r\n              회원가입\r\n            </Button>\r\n          </a>\r\n        </Link>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Text type=\"secondary\" style={{ float: 'right' }}>\r\n          비밀번호를 모르겠어요\r\n        </Text>\r\n      </FormItem>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { useEffect } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport useSWR from 'swr';\r\n// @ts-ignore\r\nimport { useSelector } from 'react-redux';\r\nimport { Card, Col, Row, Space, Typography } from 'antd';\r\nimport styled from 'styled-components';\r\nimport { fetcher } from '@utils/fetcher';\r\nimport LoginForm from '@components/LoginForm';\r\n\r\nconst BackgroundImage = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: -1;\r\n  background-image: url('https://images.unsplash.com/photo-1599084993091-1cb5c0721cc6?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position: center;\r\n`;\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst login = () => {\r\n  const router = useRouter();\r\n\r\n  const { data: userData, revalidate } = useSWR('/api/user', fetcher);\r\n\r\n  const { logInDone } = useSelector((state: any) => state.user);\r\n\r\n  useEffect(() => {\r\n    if (logInDone || userData) {\r\n      revalidate();\r\n      router.back();\r\n    }\r\n  }, [logInDone, userData]);\r\n\r\n  return (\r\n    <>\r\n      <Row justify=\"center\" align=\"middle\" style={{ height: '100vh' }}>\r\n        <Col xs={24} md={6}>\r\n          <Card style={{ height: 500, textAlign: 'center', opacity: 0.9, borderRadius: 5 }}>\r\n            <Space direction=\"vertical\" style={{ width: '90%' }}>\r\n              <Title level={1} style={{ margin: 0 }}>\r\n                유토피아\r\n              </Title>\r\n              <Text type=\"secondary\">당신의 그림을 공유해보세요</Text>\r\n              <br />\r\n              <LoginForm />\r\n            </Space>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n      <BackgroundImage />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default login;\r\n","module.exports = require('./dist/client/link')\n","import React, { Children, useEffect } from 'react'\nimport { UrlObject } from 'url'\nimport {\n  addBasePath,\n  addLocale,\n  getDomainLocale,\n  isLocalURL,\n  NextRouter,\n  PrefetchOptions,\n  resolveHref,\n} from '../next-server/lib/router/router'\nimport { useRouter } from './router'\nimport { useIntersection } from './use-intersection'\n\ntype Url = string | UrlObject\ntype RequiredKeys<T> = {\n  [K in keyof T]-?: {} extends Pick<T, K> ? never : K\n}[keyof T]\ntype OptionalKeys<T> = {\n  [K in keyof T]-?: {} extends Pick<T, K> ? K : never\n}[keyof T]\n\nexport type LinkProps = {\n  href: Url\n  as?: Url\n  replace?: boolean\n  scroll?: boolean\n  shallow?: boolean\n  passHref?: boolean\n  prefetch?: boolean\n  locale?: string | false\n}\ntype LinkPropsRequired = RequiredKeys<LinkProps>\ntype LinkPropsOptional = OptionalKeys<LinkProps>\n\nconst prefetched: { [cacheKey: string]: boolean } = {}\n\nfunction prefetch(\n  router: NextRouter,\n  href: string,\n  as: string,\n  options?: PrefetchOptions\n): void {\n  if (typeof window === 'undefined' || !router) return\n  if (!isLocalURL(href)) return\n  // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n  router.prefetch(href, as, options).catch((err) => {\n    if (process.env.NODE_ENV !== 'production') {\n      // rethrow to show invalid URL errors\n      throw err\n    }\n  })\n  const curLocale =\n    options && typeof options.locale !== 'undefined'\n      ? options.locale\n      : router && router.locale\n\n  // Join on an invalid URI character\n  prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true\n}\n\nfunction isModifiedEvent(event: React.MouseEvent): boolean {\n  const { target } = event.currentTarget as HTMLAnchorElement\n  return (\n    (target && target !== '_self') ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey || // triggers resource download\n    (event.nativeEvent && event.nativeEvent.which === 2)\n  )\n}\n\nfunction linkClicked(\n  e: React.MouseEvent,\n  router: NextRouter,\n  href: string,\n  as: string,\n  replace?: boolean,\n  shallow?: boolean,\n  scroll?: boolean,\n  locale?: string | false\n): void {\n  const { nodeName } = e.currentTarget\n\n  if (nodeName === 'A' && (isModifiedEvent(e) || !isLocalURL(href))) {\n    // ignore click for browser’s default behavior\n    return\n  }\n\n  e.preventDefault()\n\n  //  avoid scroll for urls with anchor refs\n  if (scroll == null) {\n    scroll = as.indexOf('#') < 0\n  }\n\n  // replace state instead of push if prop is present\n  router[replace ? 'replace' : 'push'](href, as, {\n    shallow,\n    locale,\n    scroll,\n  }).then((success: boolean) => {\n    if (!success) return\n    if (scroll) {\n      // FIXME: proper route announcing at Router level, not Link:\n      document.body.focus()\n    }\n  })\n}\n\nfunction Link(props: React.PropsWithChildren<LinkProps>) {\n  if (process.env.NODE_ENV !== 'production') {\n    function createPropError(args: {\n      key: string\n      expected: string\n      actual: string\n    }) {\n      return new Error(\n        `Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` +\n          (typeof window !== 'undefined'\n            ? \"\\nOpen your browser's console to view the Component stack trace.\"\n            : '')\n      )\n    }\n\n    // TypeScript trick for type-guarding:\n    const requiredPropsGuard: Record<LinkPropsRequired, true> = {\n      href: true,\n    } as const\n    const requiredProps: LinkPropsRequired[] = Object.keys(\n      requiredPropsGuard\n    ) as LinkPropsRequired[]\n    requiredProps.forEach((key: LinkPropsRequired) => {\n      if (key === 'href') {\n        if (\n          props[key] == null ||\n          (typeof props[key] !== 'string' && typeof props[key] !== 'object')\n        ) {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: props[key] === null ? 'null' : typeof props[key],\n          })\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _: never = key\n      }\n    })\n\n    // TypeScript trick for type-guarding:\n    const optionalPropsGuard: Record<LinkPropsOptional, true> = {\n      as: true,\n      replace: true,\n      scroll: true,\n      shallow: true,\n      passHref: true,\n      prefetch: true,\n      locale: true,\n    } as const\n    const optionalProps: LinkPropsOptional[] = Object.keys(\n      optionalPropsGuard\n    ) as LinkPropsOptional[]\n    optionalProps.forEach((key: LinkPropsOptional) => {\n      const valType = typeof props[key]\n\n      if (key === 'as') {\n        if (props[key] && valType !== 'string' && valType !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: valType,\n          })\n        }\n      } else if (key === 'locale') {\n        if (props[key] && valType !== 'string') {\n          throw createPropError({\n            key,\n            expected: '`string`',\n            actual: valType,\n          })\n        }\n      } else if (\n        key === 'replace' ||\n        key === 'scroll' ||\n        key === 'shallow' ||\n        key === 'passHref' ||\n        key === 'prefetch'\n      ) {\n        if (props[key] != null && valType !== 'boolean') {\n          throw createPropError({\n            key,\n            expected: '`boolean`',\n            actual: valType,\n          })\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _: never = key\n      }\n    })\n\n    // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const hasWarned = React.useRef(false)\n    if (props.prefetch && !hasWarned.current) {\n      hasWarned.current = true\n      console.warn(\n        'Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://err.sh/vercel/next.js/prefetch-true-deprecated'\n      )\n    }\n  }\n  const p = props.prefetch !== false\n\n  const router = useRouter()\n  const pathname = (router && router.pathname) || '/'\n\n  const { href, as } = React.useMemo(() => {\n    const [resolvedHref, resolvedAs] = resolveHref(pathname, props.href, true)\n    return {\n      href: resolvedHref,\n      as: props.as\n        ? resolveHref(pathname, props.as)\n        : resolvedAs || resolvedHref,\n    }\n  }, [pathname, props.href, props.as])\n\n  let { children, replace, shallow, scroll, locale } = props\n\n  // Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n  if (typeof children === 'string') {\n    children = <a>{children}</a>\n  }\n\n  // This will return the first child, if multiple are provided it will throw an error\n  const child: any = Children.only(children)\n  const childRef: any = child && typeof child === 'object' && child.ref\n\n  const [setIntersectionRef, isVisible] = useIntersection({\n    rootMargin: '200px',\n  })\n  const setRef = React.useCallback(\n    (el: Element) => {\n      setIntersectionRef(el)\n      if (childRef) {\n        if (typeof childRef === 'function') childRef(el)\n        else if (typeof childRef === 'object') {\n          childRef.current = el\n        }\n      }\n    },\n    [childRef, setIntersectionRef]\n  )\n  useEffect(() => {\n    const shouldPrefetch = isVisible && p && isLocalURL(href)\n    const curLocale =\n      typeof locale !== 'undefined' ? locale : router && router.locale\n    const isPrefetched =\n      prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')]\n    if (shouldPrefetch && !isPrefetched) {\n      prefetch(router, href, as, {\n        locale: curLocale,\n      })\n    }\n  }, [as, href, isVisible, locale, p, router])\n\n  const childProps: {\n    onMouseEnter?: React.MouseEventHandler\n    onClick: React.MouseEventHandler\n    href?: string\n    ref?: any\n  } = {\n    ref: setRef,\n    onClick: (e: React.MouseEvent) => {\n      if (child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e)\n      }\n      if (!e.defaultPrevented) {\n        linkClicked(e, router, href, as, replace, shallow, scroll, locale)\n      }\n    },\n  }\n\n  childProps.onMouseEnter = (e: React.MouseEvent) => {\n    if (!isLocalURL(href)) return\n    if (child.props && typeof child.props.onMouseEnter === 'function') {\n      child.props.onMouseEnter(e)\n    }\n    prefetch(router, href, as, { priority: true })\n  }\n\n  // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user\n  if (props.passHref || (child.type === 'a' && !('href' in child.props))) {\n    const curLocale =\n      typeof locale !== 'undefined' ? locale : router && router.locale\n\n    const localeDomain = getDomainLocale(\n      as,\n      curLocale,\n      router && router.locales,\n      router && router.domainLocales\n    )\n\n    childProps.href =\n      localeDomain ||\n      addBasePath(addLocale(as, curLocale, router && router.defaultLocale))\n  }\n\n  return React.cloneElement(child, childProps)\n}\n\nexport default Link\n","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/login\",\n        function () {\n          return require(\"private-next-pages/login.tsx\");\n        }\n      ]);\n    ","import { useCallback, useEffect, useRef, useState } from 'react'\nimport requestIdleCallback from './request-idle-callback'\n\ntype UseIntersectionObserverInit = Pick<IntersectionObserverInit, 'rootMargin'>\ntype UseIntersection = { disabled?: boolean } & UseIntersectionObserverInit\ntype ObserveCallback = (isVisible: boolean) => void\ntype Observer = {\n  id: string\n  observer: IntersectionObserver\n  elements: Map<Element, ObserveCallback>\n}\n\nconst hasIntersectionObserver = typeof IntersectionObserver !== 'undefined'\n\nexport function useIntersection<T extends Element>({\n  rootMargin,\n  disabled,\n}: UseIntersection): [(element: T | null) => void, boolean] {\n  const isDisabled: boolean = disabled || !hasIntersectionObserver\n\n  const unobserve = useRef<Function>()\n  const [visible, setVisible] = useState(false)\n\n  const setRef = useCallback(\n    (el: T | null) => {\n      if (unobserve.current) {\n        unobserve.current()\n        unobserve.current = undefined\n      }\n\n      if (isDisabled || visible) return\n\n      if (el && el.tagName) {\n        unobserve.current = observe(\n          el,\n          (isVisible) => isVisible && setVisible(isVisible),\n          { rootMargin }\n        )\n      }\n    },\n    [isDisabled, rootMargin, visible]\n  )\n\n  useEffect(() => {\n    if (!hasIntersectionObserver) {\n      if (!visible) requestIdleCallback(() => setVisible(true))\n    }\n  }, [visible])\n\n  return [setRef, visible]\n}\n\nfunction observe(\n  element: Element,\n  callback: ObserveCallback,\n  options: UseIntersectionObserverInit\n): () => void {\n  const { id, observer, elements } = createObserver(options)\n  elements.set(element, callback)\n\n  observer.observe(element)\n  return function unobserve(): void {\n    elements.delete(element)\n    observer.unobserve(element)\n\n    // Destroy observer when there's nothing left to watch:\n    if (elements.size === 0) {\n      observer.disconnect()\n      observers.delete(id)\n    }\n  }\n}\n\nconst observers = new Map<string, Observer>()\nfunction createObserver(options: UseIntersectionObserverInit): Observer {\n  const id = options.rootMargin || ''\n  let instance = observers.get(id)\n  if (instance) {\n    return instance\n  }\n\n  const elements = new Map<Element, ObserveCallback>()\n  const observer = new IntersectionObserver((entries) => {\n    entries.forEach((entry) => {\n      const callback = elements.get(entry.target)\n      const isVisible = entry.isIntersecting || entry.intersectionRatio > 0\n      if (callback && isVisible) {\n        callback(isVisible)\n      }\n    })\n  }, options)\n\n  observers.set(\n    id,\n    (instance = {\n      id,\n      observer,\n      elements,\n    })\n  )\n  return instance\n}\n"],"sourceRoot":""}