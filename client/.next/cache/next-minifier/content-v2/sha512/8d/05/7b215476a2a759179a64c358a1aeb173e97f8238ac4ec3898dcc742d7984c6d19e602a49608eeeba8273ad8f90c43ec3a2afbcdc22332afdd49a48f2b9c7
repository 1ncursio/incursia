{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[34],{\"4msC\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"nKUr\"),o=n(\"ODXe\"),c=n(\"kLXV\"),a=n(\"Vl3Y\"),i=n(\"5rEg\"),l=n(\"2/Rp\"),u=n(\"vDqi\"),s=n.n(u),f=n(\"20a2\"),d=n(\"q1tI\"),p=n(\"QivM\"),v=n(\"dfzq\"),h=n(\"YFqc\"),b=n.n(h);t.default=function(){var e=Object(f.useRouter)(),t=e.query.token,n=Object(d.useState)(!1),u=n[0],h=n[1],j=Object(d.useState)(!1),O=j[0],y=j[1],m=Object(d.useState)(!1),g=m[0],E=m[1],_=Object(p.a)(\"\"),w=Object(o.a)(_,2),x=w[0],k=w[1];Object(d.useEffect)((function(){Object(v.b)(t?\"/api/user/validation\":null,{token:t}).then((function(){h(!0),console.log(\"good\")})).catch((function(e){h(!1),console.error(e)}))}),[t]);var L=Object(d.useCallback)((function(){E(!0)}),[]),M=Object(d.useCallback)((function(){y(!0),s.a.post(\"/api/user/mail\",{email:x}).then((function(){c.a.success({title:\"\\uc774\\uba54\\uc77c\\uc774 \\uc804\\uc1a1\\ub418\\uc5c8\\uc2b5\\ub2c8\\ub2e4\",content:\"\\uc774\\uba54\\uc77c\\uc774 \\uc804\\uc1a1\\ub418\\uc5c8\\uc2b5\\ub2c8\\ub2e4. \\uba54\\uc77c\\ud655\\uc778\\uc744 \\ubd80\\ud0c1\\ub4dc\\ub824\\uc694!\",okText:\"\\ud655\\uc778\"}),y(!1),e.replace(\"/\")})).catch((function(e){console.error(e),c.a.error({title:\"\\ud83e\\udd14 \\uba54\\uc77c\\uc8fc\\uc18c\\ub97c \\ud655\\uc778\\ud574 \\uc8fc\\uc138\\uc694.\",content:\"\\uac00\\uc785\\ub418\\uc9c0 \\uc54a\\uc558\\uac70\\ub098 \\uc774\\ubbf8 \\uc778\\uc99d\\uc774 \\uc644\\ub8cc\\ub41c \\uacc4\\uc815\\uc785\\ub2c8\\ub2e4.\",okText:\"\\ud655\\uc778\"}),y(!1)}))}),[x]);return u?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(\"div\",{children:\"\\uc778\\uc99d\\ub428!\"}),Object(r.jsx)(b.a,{href:\"/\",children:Object(r.jsx)(\"a\",{children:\"\\ud648\\uc73c\\ub85c\"})})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(\"div\",{children:\"\\uc778\\uc99d\\uc774 \\uc644\\ub8cc\\ub418\\uc5c8\\uac70\\ub098, \\uc720\\ud6a8\\uc2dc\\uac04\\uc774 \\uc9c0\\ub0ac\\uc2b5\\ub2c8\\ub2e4.\"}),Object(r.jsx)(\"div\",{children:\"\\uc778\\uc99d\\uc744 \\ub2e4\\uc2dc \\uc2dc\\ub3c4\\ud558\\ub824\\uba74, \\uc778\\uc99d\\uba54\\uc77c\\uc744 \\uc694\\uccad\\ud574 \\uc8fc\\uc138\\uc694!\"}),g?Object(r.jsxs)(a.a,{onFinish:M,layout:\"vertical\",children:[Object(r.jsx)(i.a,{type:\"email\",onChange:k,value:x,placeholder:\"\\uac00\\uc785\\ub41c \\uc774\\uba54\\uc77c\\uc744 \\uc815\\ud655\\ud788 \\uc785\\ub825\\ud574 \\uc8fc\\uc138\\uc694.\"}),Object(r.jsx)(l.a,{type:\"primary\",htmlType:\"submit\",loading:O,children:\"\\uc778\\uc99d\\uba54\\uc77c \\ubcf4\\ub0b4\\uae30\"})]}):Object(r.jsx)(l.a,{type:\"primary\",onClick:L,children:\"\\uc778\\uc99d\\uba54\\uc77c \\uc694\\uccad\"})]})}},GBnZ:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/validation\",function(){return n(\"4msC\")}])},YFqc:function(e,t,n){e.exports=n(\"cTJO\")},cTJO:function(e,t,n){\"use strict\";var r=n(\"J4zp\"),o=n(\"284h\");t.__esModule=!0,t.default=void 0;var c=o(n(\"q1tI\")),a=n(\"elyg\"),i=n(\"nOHt\"),l=n(\"vNVm\"),u={};function s(e,t,n,r){if(e&&(0,a.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var o=r&&\"undefined\"!==typeof r.locale?r.locale:e&&e.locale;u[t+\"%\"+n+(o?\"%\"+o:\"\")]=!0}}var f=function(e){var t=!1!==e.prefetch,n=(0,i.useRouter)(),o=n&&n.pathname||\"/\",f=c.default.useMemo((function(){var t=(0,a.resolveHref)(o,e.href,!0),n=r(t,2),c=n[0],i=n[1];return{href:c,as:e.as?(0,a.resolveHref)(o,e.as):i||c}}),[o,e.href,e.as]),d=f.href,p=f.as,v=e.children,h=e.replace,b=e.shallow,j=e.scroll,O=e.locale;\"string\"===typeof v&&(v=c.default.createElement(\"a\",null,v));var y=c.Children.only(v),m=y&&\"object\"===typeof y&&y.ref,g=(0,l.useIntersection)({rootMargin:\"200px\"}),E=r(g,2),_=E[0],w=E[1],x=c.default.useCallback((function(e){_(e),m&&(\"function\"===typeof m?m(e):\"object\"===typeof m&&(m.current=e))}),[m,_]);(0,c.useEffect)((function(){var e=w&&t&&(0,a.isLocalURL)(d),r=\"undefined\"!==typeof O?O:n&&n.locale,o=u[d+\"%\"+p+(r?\"%\"+r:\"\")];e&&!o&&s(n,d,p,{locale:r})}),[p,d,w,O,t,n]);var k={ref:x,onClick:function(e){y.props&&\"function\"===typeof y.props.onClick&&y.props.onClick(e),e.defaultPrevented||function(e,t,n,r,o,c,i,l){(\"A\"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&\"_self\"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,a.isLocalURL)(n))&&(e.preventDefault(),null==i&&(i=r.indexOf(\"#\")<0),t[o?\"replace\":\"push\"](n,r,{shallow:c,locale:l,scroll:i}).then((function(e){e&&i&&document.body.focus()})))}(e,n,d,p,h,b,j,O)},onMouseEnter:function(e){(0,a.isLocalURL)(d)&&(y.props&&\"function\"===typeof y.props.onMouseEnter&&y.props.onMouseEnter(e),s(n,d,p,{priority:!0}))}};if(e.passHref||\"a\"===y.type&&!(\"href\"in y.props)){var L=\"undefined\"!==typeof O?O:n&&n.locale,M=(0,a.getDomainLocale)(p,L,n&&n.locales,n&&n.domainLocales);k.href=M||(0,a.addBasePath)((0,a.addLocale)(p,L,n&&n.defaultLocale))}return c.default.cloneElement(y,k)};t.default=f},vNVm:function(e,t,n){\"use strict\";var r=n(\"J4zp\"),o=n(\"TqRt\");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!i,o=(0,c.useRef)(),u=(0,c.useState)(!1),s=r(u,2),f=s[0],d=s[1],p=(0,c.useCallback)((function(e){o.current&&(o.current(),o.current=void 0),n||f||e&&e.tagName&&(o.current=function(e,t,n){var r=function(e){var t=e.rootMargin||\"\",n=l.get(t);if(n)return n;var r=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return l.set(t,n={id:t,observer:o,elements:r}),n}(n),o=r.id,c=r.observer,a=r.elements;return a.set(e,t),c.observe(e),function(){a.delete(e),c.unobserve(e),0===a.size&&(c.disconnect(),l.delete(o))}}(e,(function(e){return e&&d(e)}),{rootMargin:t}))}),[n,t,f]);return(0,c.useEffect)((function(){i||f||(0,a.default)((function(){return d(!0)}))}),[f]),[p,f]};var c=n(\"q1tI\"),a=o(n(\"0G5g\")),i=\"undefined\"!==typeof IntersectionObserver;var l=new Map}},[[\"GBnZ\",1,2,0,3,6,5,8]]]);","map":{"version":3,"sources":["static/chunks/pages/validation-7216448c7d415c13e0ba.js"],"names":["_N_E","window","push","4msC","module","__webpack_exports__","__webpack_require__","r","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","antd__WEBPACK_IMPORTED_MODULE_2__","antd__WEBPACK_IMPORTED_MODULE_3__","antd__WEBPACK_IMPORTED_MODULE_4__","antd__WEBPACK_IMPORTED_MODULE_5__","axios__WEBPACK_IMPORTED_MODULE_6__","axios__WEBPACK_IMPORTED_MODULE_6___default","n","next_router__WEBPACK_IMPORTED_MODULE_7__","react__WEBPACK_IMPORTED_MODULE_8__","_hooks_useInput__WEBPACK_IMPORTED_MODULE_9__","_utils_fetcher__WEBPACK_IMPORTED_MODULE_10__","next_link__WEBPACK_IMPORTED_MODULE_11__","next_link__WEBPACK_IMPORTED_MODULE_11___default","router","Object","token","query","_useState","isValidated","setIsValidated","_useState2","isLoading","setIsLoading","_useState3","visibleInput","setVisibleInput","_useInput","_useInput2","email","onChangeEmail","then","console","log","error","onClickRequest","onFinish","a","post","success","title","content","okText","replace","children","href","layout","type","onChange","value","placeholder","htmlType","loading","onClick","GBnZ","exports","__NEXT_P","YFqc","cTJO","_slicedToArray","_interopRequireWildcard","__esModule","_react","_router","_router2","_useIntersection","prefetched","prefetch","as","options","isLocalURL","err","curLocale","locale","_default","props","p","useRouter","pathname","_react$default$useMem","useMemo","_ref","resolveHref","_ref2","resolvedHref","resolvedAs","shallow","scroll","createElement","child","Children","only","childRef","ref","_ref3","useIntersection","rootMargin","_ref4","setIntersectionRef","isVisible","setRef","useCallback","el","current","useEffect","shouldPrefetch","isPrefetched","childProps","e","defaultPrevented","currentTarget","nodeName","event","target","metaKey","ctrlKey","shiftKey","altKey","nativeEvent","which","isModifiedEvent","preventDefault","indexOf","document","body","focus","linkClicked","onMouseEnter","priority","passHref","localeDomain","getDomainLocale","locales","domainLocales","addBasePath","addLocale","defaultLocale","cloneElement","vNVm","_interopRequireDefault","isDisabled","disabled","hasIntersectionObserver","unobserve","useRef","useState","visible","setVisible","undefined","tagName","element","callback","_createObserver","id","instance","observers","get","elements","Map","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","intersectionRatio","set","createObserver","observe","size","disconnect","_requestIdleCallback"],"mappings":"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"},"name":"static/chunks/pages/validation-7216448c7d415c13e0ba.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[34],{\n\n/***/ \"4msC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"ODXe\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"kLXV\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"Vl3Y\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"5rEg\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"2/Rp\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"vDqi\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _hooks_useInput__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"QivM\");\n/* harmony import */ var _utils_fetcher__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"dfzq\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\n\nvar validation = function validation() {\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_7__[\"useRouter\"])();\n  var token = router.query.token;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useState\"])(false),\n      isValidated = _useState[0],\n      setIsValidated = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useState\"])(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useState\"])(false),\n      visibleInput = _useState3[0],\n      setVisibleInput = _useState3[1];\n\n  var _useInput = Object(_hooks_useInput__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"])(''),\n      _useInput2 = Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useInput, 2),\n      email = _useInput2[0],\n      onChangeEmail = _useInput2[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useEffect\"])(function () {\n    Object(_utils_fetcher__WEBPACK_IMPORTED_MODULE_10__[/* fetcherPatch */ \"b\"])(token ? '/api/user/validation' : null, {\n      token: token\n    }).then(function () {\n      setIsValidated(true);\n      console.log('good');\n    })[\"catch\"](function (error) {\n      setIsValidated(false);\n      console.error(error);\n    });\n  }, [token]);\n  var onClickRequest = Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useCallback\"])(function () {\n    setVisibleInput(true);\n  }, []);\n  var onFinish = Object(react__WEBPACK_IMPORTED_MODULE_8__[\"useCallback\"])(function () {\n    setIsLoading(true);\n    axios__WEBPACK_IMPORTED_MODULE_6___default.a.post('/api/user/mail', {\n      email: email\n    }).then(function () {\n      antd__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].success({\n        title: '이메일이 전송되었습니다',\n        content: '이메일이 전송되었습니다. 메일확인을 부탁드려요!',\n        okText: '확인'\n      });\n      setIsLoading(false);\n      router.replace('/');\n    })[\"catch\"](function (error) {\n      console.error(error);\n      antd__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].error({\n        title: '🤔 메일주소를 확인해 주세요.',\n        content: '가입되지 않았거나 이미 인증이 완료된 계정입니다.',\n        okText: '확인'\n      });\n      setIsLoading(false);\n    });\n  }, [email]);\n\n  if (!isValidated) {\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        children: \"\\uC778\\uC99D\\uC774 \\uC644\\uB8CC\\uB418\\uC5C8\\uAC70\\uB098, \\uC720\\uD6A8\\uC2DC\\uAC04\\uC774 \\uC9C0\\uB0AC\\uC2B5\\uB2C8\\uB2E4.\"\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        children: \"\\uC778\\uC99D\\uC744 \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD558\\uB824\\uBA74, \\uC778\\uC99D\\uBA54\\uC77C\\uC744 \\uC694\\uCCAD\\uD574 \\uC8FC\\uC138\\uC694!\"\n      }), visibleInput ? /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(antd__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n        onFinish: onFinish,\n        layout: \"vertical\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n          type: \"email\",\n          onChange: onChangeEmail,\n          value: email,\n          placeholder: \"\\uAC00\\uC785\\uB41C \\uC774\\uBA54\\uC77C\\uC744 \\uC815\\uD655\\uD788 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n          type: \"primary\",\n          htmlType: \"submit\",\n          loading: isLoading,\n          children: \"\\uC778\\uC99D\\uBA54\\uC77C \\uBCF4\\uB0B4\\uAE30\"\n        })]\n      }) : /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n        type: \"primary\",\n        onClick: onClickRequest,\n        children: \"\\uC778\\uC99D\\uBA54\\uC77C \\uC694\\uCCAD\"\n      })]\n    });\n  }\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      children: \"\\uC778\\uC99D\\uB428!\"\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(next_link__WEBPACK_IMPORTED_MODULE_11___default.a, {\n      href: \"/\",\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"a\", {\n        children: \"\\uD648\\uC73C\\uB85C\"\n      })\n    })]\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (validation);\n\n/***/ }),\n\n/***/ \"GBnZ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/validation\",\n        function () {\n          return __webpack_require__(\"4msC\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"YFqc\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"cTJO\")\n\n\n/***/ }),\n\n/***/ \"cTJO\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = __webpack_require__(\"J4zp\");\n\nvar _interopRequireWildcard = __webpack_require__(\"284h\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(__webpack_require__(\"q1tI\"));\n\nvar _router = __webpack_require__(\"elyg\");\n\nvar _router2 = __webpack_require__(\"nOHt\");\n\nvar _useIntersection = __webpack_require__(\"vNVm\");\n\nvar prefetched = {};\n\nfunction prefetch(router, href, as, options) {\n  if ( false || !router) return;\n  if (!(0, _router.isLocalURL)(href)) return; // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n\n  router.prefetch(href, as, options)[\"catch\"](function (err) {\n    if (false) {}\n  });\n  var curLocale = options && typeof options.locale !== 'undefined' ? options.locale : router && router.locale; // Join on an invalid URI character\n\n  prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true;\n}\n\nfunction isModifiedEvent(event) {\n  var target = event.currentTarget.target;\n  return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || // triggers resource download\n  event.nativeEvent && event.nativeEvent.which === 2;\n}\n\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale) {\n  var nodeName = e.currentTarget.nodeName;\n\n  if (nodeName === 'A' && (isModifiedEvent(e) || !(0, _router.isLocalURL)(href))) {\n    // ignore click for browser’s default behavior\n    return;\n  }\n\n  e.preventDefault(); //  avoid scroll for urls with anchor refs\n\n  if (scroll == null) {\n    scroll = as.indexOf('#') < 0;\n  } // replace state instead of push if prop is present\n\n\n  router[replace ? 'replace' : 'push'](href, as, {\n    shallow: shallow,\n    locale: locale,\n    scroll: scroll\n  }).then(function (success) {\n    if (!success) return;\n\n    if (scroll) {\n      // FIXME: proper route announcing at Router level, not Link:\n      document.body.focus();\n    }\n  });\n}\n\nfunction Link(props) {\n  if (false) { var hasWarned, optionalProps, optionalPropsGuard, requiredProps, requiredPropsGuard, createPropError; }\n\n  var p = props.prefetch !== false;\n  var router = (0, _router2.useRouter)();\n  var pathname = router && router.pathname || '/';\n\n  var _react$default$useMem = _react[\"default\"].useMemo(function () {\n    var _ref = (0, _router.resolveHref)(pathname, props.href, true),\n        _ref2 = _slicedToArray(_ref, 2),\n        resolvedHref = _ref2[0],\n        resolvedAs = _ref2[1];\n\n    return {\n      href: resolvedHref,\n      as: props.as ? (0, _router.resolveHref)(pathname, props.as) : resolvedAs || resolvedHref\n    };\n  }, [pathname, props.href, props.as]),\n      href = _react$default$useMem.href,\n      as = _react$default$useMem.as;\n\n  var children = props.children,\n      replace = props.replace,\n      shallow = props.shallow,\n      scroll = props.scroll,\n      locale = props.locale; // Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n\n  if (typeof children === 'string') {\n    children = /*#__PURE__*/_react[\"default\"].createElement(\"a\", null, children);\n  } // This will return the first child, if multiple are provided it will throw an error\n\n\n  var child = _react.Children.only(children);\n\n  var childRef = child && typeof child === 'object' && child.ref;\n\n  var _ref3 = (0, _useIntersection.useIntersection)({\n    rootMargin: '200px'\n  }),\n      _ref4 = _slicedToArray(_ref3, 2),\n      setIntersectionRef = _ref4[0],\n      isVisible = _ref4[1];\n\n  var setRef = _react[\"default\"].useCallback(function (el) {\n    setIntersectionRef(el);\n\n    if (childRef) {\n      if (typeof childRef === 'function') childRef(el);else if (typeof childRef === 'object') {\n        childRef.current = el;\n      }\n    }\n  }, [childRef, setIntersectionRef]);\n\n  (0, _react.useEffect)(function () {\n    var shouldPrefetch = isVisible && p && (0, _router.isLocalURL)(href);\n    var curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n    var isPrefetched = prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')];\n\n    if (shouldPrefetch && !isPrefetched) {\n      prefetch(router, href, as, {\n        locale: curLocale\n      });\n    }\n  }, [as, href, isVisible, locale, p, router]);\n  var childProps = {\n    ref: setRef,\n    onClick: function onClick(e) {\n      if (child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e);\n      }\n\n      if (!e.defaultPrevented) {\n        linkClicked(e, router, href, as, replace, shallow, scroll, locale);\n      }\n    }\n  };\n\n  childProps.onMouseEnter = function (e) {\n    if (!(0, _router.isLocalURL)(href)) return;\n\n    if (child.props && typeof child.props.onMouseEnter === 'function') {\n      child.props.onMouseEnter(e);\n    }\n\n    prefetch(router, href, as, {\n      priority: true\n    });\n  }; // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user\n\n\n  if (props.passHref || child.type === 'a' && !('href' in child.props)) {\n    var curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n    var localeDomain = (0, _router.getDomainLocale)(as, curLocale, router && router.locales, router && router.domainLocales);\n    childProps.href = localeDomain || (0, _router.addBasePath)((0, _router.addLocale)(as, curLocale, router && router.defaultLocale));\n  }\n\n  return /*#__PURE__*/_react[\"default\"].cloneElement(child, childProps);\n}\n\nvar _default = Link;\nexports[\"default\"] = _default;\n\n/***/ }),\n\n/***/ \"vNVm\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = __webpack_require__(\"J4zp\");\n\nvar _interopRequireDefault = __webpack_require__(\"TqRt\");\n\nexports.__esModule = true;\nexports.useIntersection = useIntersection;\n\nvar _react = __webpack_require__(\"q1tI\");\n\nvar _requestIdleCallback = _interopRequireDefault(__webpack_require__(\"0G5g\"));\n\nvar hasIntersectionObserver = typeof IntersectionObserver !== 'undefined';\n\nfunction useIntersection(_ref) {\n  var rootMargin = _ref.rootMargin,\n      disabled = _ref.disabled;\n  var isDisabled = disabled || !hasIntersectionObserver;\n  var unobserve = (0, _react.useRef)();\n\n  var _ref2 = (0, _react.useState)(false),\n      _ref3 = _slicedToArray(_ref2, 2),\n      visible = _ref3[0],\n      setVisible = _ref3[1];\n\n  var setRef = (0, _react.useCallback)(function (el) {\n    if (unobserve.current) {\n      unobserve.current();\n      unobserve.current = undefined;\n    }\n\n    if (isDisabled || visible) return;\n\n    if (el && el.tagName) {\n      unobserve.current = observe(el, function (isVisible) {\n        return isVisible && setVisible(isVisible);\n      }, {\n        rootMargin: rootMargin\n      });\n    }\n  }, [isDisabled, rootMargin, visible]);\n  (0, _react.useEffect)(function () {\n    if (!hasIntersectionObserver) {\n      if (!visible) (0, _requestIdleCallback[\"default\"])(function () {\n        return setVisible(true);\n      });\n    }\n  }, [visible]);\n  return [setRef, visible];\n}\n\nfunction observe(element, callback, options) {\n  var _createObserver = createObserver(options),\n      id = _createObserver.id,\n      observer = _createObserver.observer,\n      elements = _createObserver.elements;\n\n  elements.set(element, callback);\n  observer.observe(element);\n  return function unobserve() {\n    elements[\"delete\"](element);\n    observer.unobserve(element); // Destroy observer when there's nothing left to watch:\n\n    if (elements.size === 0) {\n      observer.disconnect();\n      observers[\"delete\"](id);\n    }\n  };\n}\n\nvar observers = new Map();\n\nfunction createObserver(options) {\n  var id = options.rootMargin || '';\n  var instance = observers.get(id);\n\n  if (instance) {\n    return instance;\n  }\n\n  var elements = new Map();\n  var observer = new IntersectionObserver(function (entries) {\n    entries.forEach(function (entry) {\n      var callback = elements.get(entry.target);\n      var isVisible = entry.isIntersecting || entry.intersectionRatio > 0;\n\n      if (callback && isVisible) {\n        callback(isVisible);\n      }\n    });\n  }, options);\n  observers.set(id, instance = {\n    id: id,\n    observer: observer,\n    elements: elements\n  });\n  return instance;\n}\n\n/***/ })\n\n},[[\"GBnZ\",1,2,0,3,6,5,8]]]);","inputSourceMap":{"version":3,"sources":["C:/programming/nodejs/utopia/client/pages/validation.tsx","C:\\programming\\nodejs\\utopia\\client\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fvalidation&absolutePagePath=private-next-pages%2Fvalidation.tsx!","C:\\programming\\nodejs\\utopia\\client\\node_modules\\next\\link.js","../../client/link.tsx","../../client/use-intersection.tsx"],"names":["validation","router","useRouter","token","query","useState","isValidated","setIsValidated","isLoading","setIsLoading","visibleInput","setVisibleInput","useInput","email","onChangeEmail","useEffect","fetcherPatch","then","console","log","error","onClickRequest","useCallback","onFinish","axios","post","Modal","success","title","content","okText","replace","prefetched","err","curLocale","options","href","event","target","e","nodeName","isModifiedEvent","scroll","as","shallow","locale","document","p","props","pathname","React","resolvedAs","children","child","Children","childRef","rootMargin","setRef","el","setIntersectionRef","shouldPrefetch","isVisible","isPrefetched","prefetch","childProps","ref","onClick","linkClicked","priority","localeDomain","Link","hasIntersectionObserver","isDisabled","disabled","unobserve","observe","setVisible","createObserver","elements","observer","observers","id","instance","entries","entry","callback"],"mappings":"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","file":"x","sourcesContent":["import { Button, Input, Form, Modal } from 'antd';\r\nimport axios from 'axios';\r\nimport { useRouter } from 'next/router';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport useInput from '@hooks/useInput';\r\nimport { fetcherPatch } from '@utils/fetcher';\r\nimport Link from 'next/link';\r\n\r\nconst validation = () => {\r\n  const router = useRouter();\r\n  const { token } = router.query;\r\n  const [isValidated, setIsValidated] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [visibleInput, setVisibleInput] = useState(false);\r\n  const [email, onChangeEmail] = useInput('');\r\n\r\n  useEffect(() => {\r\n    fetcherPatch(token ? '/api/user/validation' : null, { token })\r\n      .then(() => {\r\n        setIsValidated(true);\r\n        console.log('good');\r\n      })\r\n      .catch((error) => {\r\n        setIsValidated(false);\r\n        console.error(error);\r\n      });\r\n  }, [token]);\r\n\r\n  const onClickRequest = useCallback(() => {\r\n    setVisibleInput(true);\r\n  }, []);\r\n\r\n  const onFinish = useCallback(() => {\r\n    setIsLoading(true);\r\n    axios\r\n      .post('/api/user/mail', { email })\r\n      .then(() => {\r\n        Modal.success({\r\n          title: '이메일이 전송되었습니다',\r\n          content: '이메일이 전송되었습니다. 메일확인을 부탁드려요!',\r\n          okText: '확인',\r\n        });\r\n        setIsLoading(false);\r\n        router.replace('/');\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        Modal.error({\r\n          title: '🤔 메일주소를 확인해 주세요.',\r\n          content: '가입되지 않았거나 이미 인증이 완료된 계정입니다.',\r\n          okText: '확인',\r\n        });\r\n        setIsLoading(false);\r\n      });\r\n  }, [email]);\r\n\r\n  if (!isValidated) {\r\n    return (\r\n      <>\r\n        <div>인증이 완료되었거나, 유효시간이 지났습니다.</div>\r\n        <div>인증을 다시 시도하려면, 인증메일을 요청해 주세요!</div>\r\n        {visibleInput ? (\r\n          <Form onFinish={onFinish} layout=\"vertical\">\r\n            <Input\r\n              type=\"email\"\r\n              onChange={onChangeEmail}\r\n              value={email}\r\n              placeholder=\"가입된 이메일을 정확히 입력해 주세요.\"\r\n            />\r\n            <Button type=\"primary\" htmlType=\"submit\" loading={isLoading}>\r\n              인증메일 보내기\r\n            </Button>\r\n          </Form>\r\n        ) : (\r\n          <Button type=\"primary\" onClick={onClickRequest}>\r\n            인증메일 요청\r\n          </Button>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div>인증됨!</div>\r\n      <Link href=\"/\">\r\n        <a>홈으로</a>\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default validation;\r\n","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/validation\",\n        function () {\n          return require(\"private-next-pages/validation.tsx\");\n        }\n      ]);\n    ","module.exports = require('./dist/client/link')\n","import React, { Children, useEffect } from 'react'\nimport { UrlObject } from 'url'\nimport {\n  addBasePath,\n  addLocale,\n  getDomainLocale,\n  isLocalURL,\n  NextRouter,\n  PrefetchOptions,\n  resolveHref,\n} from '../next-server/lib/router/router'\nimport { useRouter } from './router'\nimport { useIntersection } from './use-intersection'\n\ntype Url = string | UrlObject\ntype RequiredKeys<T> = {\n  [K in keyof T]-?: {} extends Pick<T, K> ? never : K\n}[keyof T]\ntype OptionalKeys<T> = {\n  [K in keyof T]-?: {} extends Pick<T, K> ? K : never\n}[keyof T]\n\nexport type LinkProps = {\n  href: Url\n  as?: Url\n  replace?: boolean\n  scroll?: boolean\n  shallow?: boolean\n  passHref?: boolean\n  prefetch?: boolean\n  locale?: string | false\n}\ntype LinkPropsRequired = RequiredKeys<LinkProps>\ntype LinkPropsOptional = OptionalKeys<LinkProps>\n\nconst prefetched: { [cacheKey: string]: boolean } = {}\n\nfunction prefetch(\n  router: NextRouter,\n  href: string,\n  as: string,\n  options?: PrefetchOptions\n): void {\n  if (typeof window === 'undefined' || !router) return\n  if (!isLocalURL(href)) return\n  // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n  router.prefetch(href, as, options).catch((err) => {\n    if (process.env.NODE_ENV !== 'production') {\n      // rethrow to show invalid URL errors\n      throw err\n    }\n  })\n  const curLocale =\n    options && typeof options.locale !== 'undefined'\n      ? options.locale\n      : router && router.locale\n\n  // Join on an invalid URI character\n  prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true\n}\n\nfunction isModifiedEvent(event: React.MouseEvent): boolean {\n  const { target } = event.currentTarget as HTMLAnchorElement\n  return (\n    (target && target !== '_self') ||\n    event.metaKey ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.altKey || // triggers resource download\n    (event.nativeEvent && event.nativeEvent.which === 2)\n  )\n}\n\nfunction linkClicked(\n  e: React.MouseEvent,\n  router: NextRouter,\n  href: string,\n  as: string,\n  replace?: boolean,\n  shallow?: boolean,\n  scroll?: boolean,\n  locale?: string | false\n): void {\n  const { nodeName } = e.currentTarget\n\n  if (nodeName === 'A' && (isModifiedEvent(e) || !isLocalURL(href))) {\n    // ignore click for browser’s default behavior\n    return\n  }\n\n  e.preventDefault()\n\n  //  avoid scroll for urls with anchor refs\n  if (scroll == null) {\n    scroll = as.indexOf('#') < 0\n  }\n\n  // replace state instead of push if prop is present\n  router[replace ? 'replace' : 'push'](href, as, {\n    shallow,\n    locale,\n    scroll,\n  }).then((success: boolean) => {\n    if (!success) return\n    if (scroll) {\n      // FIXME: proper route announcing at Router level, not Link:\n      document.body.focus()\n    }\n  })\n}\n\nfunction Link(props: React.PropsWithChildren<LinkProps>) {\n  if (process.env.NODE_ENV !== 'production') {\n    function createPropError(args: {\n      key: string\n      expected: string\n      actual: string\n    }) {\n      return new Error(\n        `Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` +\n          (typeof window !== 'undefined'\n            ? \"\\nOpen your browser's console to view the Component stack trace.\"\n            : '')\n      )\n    }\n\n    // TypeScript trick for type-guarding:\n    const requiredPropsGuard: Record<LinkPropsRequired, true> = {\n      href: true,\n    } as const\n    const requiredProps: LinkPropsRequired[] = Object.keys(\n      requiredPropsGuard\n    ) as LinkPropsRequired[]\n    requiredProps.forEach((key: LinkPropsRequired) => {\n      if (key === 'href') {\n        if (\n          props[key] == null ||\n          (typeof props[key] !== 'string' && typeof props[key] !== 'object')\n        ) {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: props[key] === null ? 'null' : typeof props[key],\n          })\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _: never = key\n      }\n    })\n\n    // TypeScript trick for type-guarding:\n    const optionalPropsGuard: Record<LinkPropsOptional, true> = {\n      as: true,\n      replace: true,\n      scroll: true,\n      shallow: true,\n      passHref: true,\n      prefetch: true,\n      locale: true,\n    } as const\n    const optionalProps: LinkPropsOptional[] = Object.keys(\n      optionalPropsGuard\n    ) as LinkPropsOptional[]\n    optionalProps.forEach((key: LinkPropsOptional) => {\n      const valType = typeof props[key]\n\n      if (key === 'as') {\n        if (props[key] && valType !== 'string' && valType !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: valType,\n          })\n        }\n      } else if (key === 'locale') {\n        if (props[key] && valType !== 'string') {\n          throw createPropError({\n            key,\n            expected: '`string`',\n            actual: valType,\n          })\n        }\n      } else if (\n        key === 'replace' ||\n        key === 'scroll' ||\n        key === 'shallow' ||\n        key === 'passHref' ||\n        key === 'prefetch'\n      ) {\n        if (props[key] != null && valType !== 'boolean') {\n          throw createPropError({\n            key,\n            expected: '`boolean`',\n            actual: valType,\n          })\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _: never = key\n      }\n    })\n\n    // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const hasWarned = React.useRef(false)\n    if (props.prefetch && !hasWarned.current) {\n      hasWarned.current = true\n      console.warn(\n        'Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://err.sh/vercel/next.js/prefetch-true-deprecated'\n      )\n    }\n  }\n  const p = props.prefetch !== false\n\n  const router = useRouter()\n  const pathname = (router && router.pathname) || '/'\n\n  const { href, as } = React.useMemo(() => {\n    const [resolvedHref, resolvedAs] = resolveHref(pathname, props.href, true)\n    return {\n      href: resolvedHref,\n      as: props.as\n        ? resolveHref(pathname, props.as)\n        : resolvedAs || resolvedHref,\n    }\n  }, [pathname, props.href, props.as])\n\n  let { children, replace, shallow, scroll, locale } = props\n\n  // Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n  if (typeof children === 'string') {\n    children = <a>{children}</a>\n  }\n\n  // This will return the first child, if multiple are provided it will throw an error\n  const child: any = Children.only(children)\n  const childRef: any = child && typeof child === 'object' && child.ref\n\n  const [setIntersectionRef, isVisible] = useIntersection({\n    rootMargin: '200px',\n  })\n  const setRef = React.useCallback(\n    (el: Element) => {\n      setIntersectionRef(el)\n      if (childRef) {\n        if (typeof childRef === 'function') childRef(el)\n        else if (typeof childRef === 'object') {\n          childRef.current = el\n        }\n      }\n    },\n    [childRef, setIntersectionRef]\n  )\n  useEffect(() => {\n    const shouldPrefetch = isVisible && p && isLocalURL(href)\n    const curLocale =\n      typeof locale !== 'undefined' ? locale : router && router.locale\n    const isPrefetched =\n      prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')]\n    if (shouldPrefetch && !isPrefetched) {\n      prefetch(router, href, as, {\n        locale: curLocale,\n      })\n    }\n  }, [as, href, isVisible, locale, p, router])\n\n  const childProps: {\n    onMouseEnter?: React.MouseEventHandler\n    onClick: React.MouseEventHandler\n    href?: string\n    ref?: any\n  } = {\n    ref: setRef,\n    onClick: (e: React.MouseEvent) => {\n      if (child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e)\n      }\n      if (!e.defaultPrevented) {\n        linkClicked(e, router, href, as, replace, shallow, scroll, locale)\n      }\n    },\n  }\n\n  childProps.onMouseEnter = (e: React.MouseEvent) => {\n    if (!isLocalURL(href)) return\n    if (child.props && typeof child.props.onMouseEnter === 'function') {\n      child.props.onMouseEnter(e)\n    }\n    prefetch(router, href, as, { priority: true })\n  }\n\n  // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user\n  if (props.passHref || (child.type === 'a' && !('href' in child.props))) {\n    const curLocale =\n      typeof locale !== 'undefined' ? locale : router && router.locale\n\n    const localeDomain = getDomainLocale(\n      as,\n      curLocale,\n      router && router.locales,\n      router && router.domainLocales\n    )\n\n    childProps.href =\n      localeDomain ||\n      addBasePath(addLocale(as, curLocale, router && router.defaultLocale))\n  }\n\n  return React.cloneElement(child, childProps)\n}\n\nexport default Link\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport requestIdleCallback from './request-idle-callback'\n\ntype UseIntersectionObserverInit = Pick<IntersectionObserverInit, 'rootMargin'>\ntype UseIntersection = { disabled?: boolean } & UseIntersectionObserverInit\ntype ObserveCallback = (isVisible: boolean) => void\ntype Observer = {\n  id: string\n  observer: IntersectionObserver\n  elements: Map<Element, ObserveCallback>\n}\n\nconst hasIntersectionObserver = typeof IntersectionObserver !== 'undefined'\n\nexport function useIntersection<T extends Element>({\n  rootMargin,\n  disabled,\n}: UseIntersection): [(element: T | null) => void, boolean] {\n  const isDisabled: boolean = disabled || !hasIntersectionObserver\n\n  const unobserve = useRef<Function>()\n  const [visible, setVisible] = useState(false)\n\n  const setRef = useCallback(\n    (el: T | null) => {\n      if (unobserve.current) {\n        unobserve.current()\n        unobserve.current = undefined\n      }\n\n      if (isDisabled || visible) return\n\n      if (el && el.tagName) {\n        unobserve.current = observe(\n          el,\n          (isVisible) => isVisible && setVisible(isVisible),\n          { rootMargin }\n        )\n      }\n    },\n    [isDisabled, rootMargin, visible]\n  )\n\n  useEffect(() => {\n    if (!hasIntersectionObserver) {\n      if (!visible) requestIdleCallback(() => setVisible(true))\n    }\n  }, [visible])\n\n  return [setRef, visible]\n}\n\nfunction observe(\n  element: Element,\n  callback: ObserveCallback,\n  options: UseIntersectionObserverInit\n): () => void {\n  const { id, observer, elements } = createObserver(options)\n  elements.set(element, callback)\n\n  observer.observe(element)\n  return function unobserve(): void {\n    elements.delete(element)\n    observer.unobserve(element)\n\n    // Destroy observer when there's nothing left to watch:\n    if (elements.size === 0) {\n      observer.disconnect()\n      observers.delete(id)\n    }\n  }\n}\n\nconst observers = new Map<string, Observer>()\nfunction createObserver(options: UseIntersectionObserverInit): Observer {\n  const id = options.rootMargin || ''\n  let instance = observers.get(id)\n  if (instance) {\n    return instance\n  }\n\n  const elements = new Map<Element, ObserveCallback>()\n  const observer = new IntersectionObserver((entries) => {\n    entries.forEach((entry) => {\n      const callback = elements.get(entry.target)\n      const isVisible = entry.isIntersecting || entry.intersectionRatio > 0\n      if (callback && isVisible) {\n        callback(isVisible)\n      }\n    })\n  }, options)\n\n  observers.set(\n    id,\n    (instance = {\n      id,\n      observer,\n      elements,\n    })\n  )\n  return instance\n}\n"]}}