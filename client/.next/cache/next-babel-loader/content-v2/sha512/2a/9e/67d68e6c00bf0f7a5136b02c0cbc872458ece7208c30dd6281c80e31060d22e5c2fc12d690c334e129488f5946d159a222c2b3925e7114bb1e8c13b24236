{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Col, Row } from 'antd';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport React, { useEffect } from 'react';\nimport useSWR from 'swr';\nimport AppLayout from '@components/AppLayout';\nimport CommentSection from '@components/CommentSection';\nimport NoticeSection from '@components/NoticeSection';\nimport { fetcher } from '@utils/fetcher';\nimport ExpiredValidation from '@components/ExpiredValidation';\n\nconst NoticePage = () => {\n  const router = useRouter();\n  const {\n    id\n  } = router.query;\n  const {\n    data: userData\n  } = useSWR('/api/user', fetcher);\n  const {\n    data: noticeData,\n    mutate: noticeMutate\n  } = useSWR(id ? `/api/post/notice/${id}` : null, fetcher);\n  useEffect(() => {\n    if (noticeData) console.log(noticeData);\n  }, [noticeData]);\n\n  if ((userData === null || userData === void 0 ? void 0 : userData.status) === 'pending') {\n    return /*#__PURE__*/_jsx(ExpiredValidation, {});\n  }\n\n  return /*#__PURE__*/_jsxs(AppLayout, {\n    children: [noticeData && /*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsxs(\"title\", {\n        children: [noticeData.User.nickname, \"\\uB2D8\\uC758 \\uC77C\\uB7EC\\uC2A4\\uD2B8 - \\uC720\\uD1A0\\uD53C\\uC544\"]\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: noticeData.caption\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"og:title\",\n        content: `${noticeData.User.nickname}님의 일러스트`\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"og:description\",\n        content: noticeData.caption\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"og:image\",\n        content: noticeData.Images[0] ? noticeData.Images[0].src : 'https://nodebird.com/favicon.ico'\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"og:url\",\n        content: `https://nodebird.com/post/${id}`\n      })]\n    }), /*#__PURE__*/_jsxs(Row, {\n      justify: \"center\",\n      gutter: 16,\n      children: [/*#__PURE__*/_jsxs(Col, {\n        span: 12,\n        children: [/*#__PURE__*/_jsx(NoticeSection, {}), noticeData && /*#__PURE__*/_jsx(CommentSection, {\n          postData: noticeData,\n          postMutate: noticeMutate\n        })]\n      }), /*#__PURE__*/_jsx(Col, {\n        span: 4\n      })]\n    })]\n  });\n};\n\nexport default NoticePage;","map":{"version":3,"sources":["C:/programming/nodejs/utopia/client/pages/notices/[id].tsx"],"names":["Col","Row","Head","useRouter","React","useEffect","useSWR","AppLayout","CommentSection","NoticeSection","fetcher","ExpiredValidation","NoticePage","router","id","query","data","userData","noticeData","mutate","noticeMutate","console","log","status","User","nickname","caption","Images","src"],"mappings":";;AAAA,SAASA,GAAT,EAAcC,GAAd,QAAyB,MAAzB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,SAASC,OAAT,QAAwB,gBAAxB;AAEA,OAAOC,iBAAP,MAA8B,+BAA9B;;AAEA,MAAMC,UAAU,GAAG,MAAM;AACvB,QAAMC,MAAM,GAAGV,SAAS,EAAxB;AACA,QAAM;AAAEW,IAAAA;AAAF,MAASD,MAAM,CAACE,KAAtB;AAEA,QAAM;AAAEC,IAAAA,IAAI,EAAEC;AAAR,MAAqBX,MAAM,CAAQ,WAAR,EAAqBI,OAArB,CAAjC;AACA,QAAM;AAAEM,IAAAA,IAAI,EAAEE,UAAR;AAAoBC,IAAAA,MAAM,EAAEC;AAA5B,MAA6Cd,MAAM,CAACQ,EAAE,GAAI,oBAAmBA,EAAG,EAA1B,GAA8B,IAAjC,EAAuCJ,OAAvC,CAAzD;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIa,UAAJ,EAAgBG,OAAO,CAACC,GAAR,CAAYJ,UAAZ;AACjB,GAFQ,EAEN,CAACA,UAAD,CAFM,CAAT;;AAIA,MAAI,CAAAD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEM,MAAV,MAAqB,SAAzB,EAAoC;AAClC,wBAAO,KAAC,iBAAD,KAAP;AACD;;AAED,sBACE,MAAC,SAAD;AAAA,eACGL,UAAU,iBACT,MAAC,IAAD;AAAA,8BACE;AAAA,mBAAQA,UAAU,CAACM,IAAX,CAAgBC,QAAxB;AAAA,QADF,eAEE;AAAM,QAAA,IAAI,EAAC,aAAX;AAAyB,QAAA,OAAO,EAAEP,UAAU,CAACQ;AAA7C,QAFF,eAGE;AAAM,QAAA,IAAI,EAAC,UAAX;AAAsB,QAAA,OAAO,EAAG,GAAER,UAAU,CAACM,IAAX,CAAgBC,QAAS;AAA3D,QAHF,eAIE;AAAM,QAAA,IAAI,EAAC,gBAAX;AAA4B,QAAA,OAAO,EAAEP,UAAU,CAACQ;AAAhD,QAJF,eAKE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,OAAO,EAAER,UAAU,CAACS,MAAX,CAAkB,CAAlB,IAAuBT,UAAU,CAACS,MAAX,CAAkB,CAAlB,EAAqBC,GAA5C,GAAkD;AAF7D,QALF,eASE;AAAM,QAAA,IAAI,EAAC,QAAX;AAAoB,QAAA,OAAO,EAAG,6BAA4Bd,EAAG;AAA7D,QATF;AAAA,MAFJ,eAcE,MAAC,GAAD;AAAK,MAAA,OAAO,EAAC,QAAb;AAAsB,MAAA,MAAM,EAAE,EAA9B;AAAA,8BACE,MAAC,GAAD;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA,gCACE,KAAC,aAAD,KADF,EAEGI,UAAU,iBAAI,KAAC,cAAD;AAAgB,UAAA,QAAQ,EAAEA,UAA1B;AAAsC,UAAA,UAAU,EAAEE;AAAlD,UAFjB;AAAA,QADF,eAKE,KAAC,GAAD;AAAK,QAAA,IAAI,EAAE;AAAX,QALF;AAAA,MAdF;AAAA,IADF;AAwBD,CAvCD;;AAyCA,eAAeR,UAAf","sourcesContent":["import { Col, Row } from 'antd';\r\nimport Head from 'next/head';\r\nimport { useRouter } from 'next/router';\r\nimport React, { useEffect } from 'react';\r\nimport useSWR from 'swr';\r\nimport AppLayout from '@components/AppLayout';\r\nimport CommentSection from '@components/CommentSection';\r\nimport NoticeSection from '@components/NoticeSection';\r\nimport { fetcher } from '@utils/fetcher';\r\nimport { IUser } from '@typings/IUser';\r\nimport ExpiredValidation from '@components/ExpiredValidation';\r\n\r\nconst NoticePage = () => {\r\n  const router = useRouter();\r\n  const { id } = router.query;\r\n\r\n  const { data: userData } = useSWR<IUser>('/api/user', fetcher);\r\n  const { data: noticeData, mutate: noticeMutate } = useSWR(id ? `/api/post/notice/${id}` : null, fetcher);\r\n\r\n  useEffect(() => {\r\n    if (noticeData) console.log(noticeData);\r\n  }, [noticeData]);\r\n\r\n  if (userData?.status === 'pending') {\r\n    return <ExpiredValidation />;\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      {noticeData && (\r\n        <Head>\r\n          <title>{noticeData.User.nickname}님의 일러스트 - 유토피아</title>\r\n          <meta name=\"description\" content={noticeData.caption} />\r\n          <meta name=\"og:title\" content={`${noticeData.User.nickname}님의 일러스트`} />\r\n          <meta name=\"og:description\" content={noticeData.caption} />\r\n          <meta\r\n            name=\"og:image\"\r\n            content={noticeData.Images[0] ? noticeData.Images[0].src : 'https://nodebird.com/favicon.ico'}\r\n          />\r\n          <meta name=\"og:url\" content={`https://nodebird.com/post/${id}`} />\r\n        </Head>\r\n      )}\r\n      <Row justify=\"center\" gutter={16}>\r\n        <Col span={12}>\r\n          <NoticeSection />\r\n          {noticeData && <CommentSection postData={noticeData} postMutate={noticeMutate} />}\r\n        </Col>\r\n        <Col span={4}>{/* <UserProfile postData={postData} /> */}</Col>\r\n      </Row>\r\n    </AppLayout>\r\n  );\r\n};\r\n\r\nexport default NoticePage;\r\n"]},"metadata":{},"sourceType":"module"}