{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useCallback, useState } from 'react';\nimport { Row, Col, Form, Input, Button, Typography, Modal } from 'antd';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nimport useInput from '@hooks/useInput';\nvar Paragraph = Typography.Paragraph;\n\nvar ExpiredValidation = function ExpiredValidation() {\n  var router = useRouter();\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(false),\n      visibleInput = _useState2[0],\n      setVisibleInput = _useState2[1];\n\n  var _useInput = useInput(''),\n      _useInput2 = _slicedToArray(_useInput, 2),\n      email = _useInput2[0],\n      onChangeEmail = _useInput2[1];\n\n  var onClickRequest = useCallback(function () {\n    setVisibleInput(true);\n  }, []);\n  var onFinish = useCallback(function () {\n    setIsLoading(true);\n    axios.post('/api/user/mail', {\n      email: email\n    }).then(function () {\n      Modal.success({\n        title: '이메일이 전송되었습니다',\n        content: '이메일이 전송되었습니다. 메일확인을 부탁드려요!',\n        okText: '확인'\n      });\n      setIsLoading(false);\n      router.replace('/');\n    })[\"catch\"](function (error) {\n      console.error(error);\n      Modal.error({\n        title: '🤔 메일주소를 확인해 주세요.',\n        content: '가입되지 않았거나 이미 인증이 완료된 계정입니다.',\n        okText: '확인'\n      });\n      setIsLoading(false);\n    });\n  }, [email]);\n  return /*#__PURE__*/_jsx(Row, {\n    justify: \"center\",\n    align: \"middle\",\n    style: {\n      height: '100vh',\n      textAlign: 'center'\n    },\n    children: /*#__PURE__*/_jsxs(Col, {\n      xs: 24,\n      md: 4,\n      children: [/*#__PURE__*/_jsx(Paragraph, {\n        children: \"\\uAC00\\uC785\\uC2DC \\uC804\\uC1A1\\uB41C \\uC774\\uBA54\\uC77C\\uB85C \\uC778\\uC99D\\uC744 \\uC9C4\\uD589\\uD574\\uC8FC\\uC138\\uC694!!\"\n      }), /*#__PURE__*/_jsx(Paragraph, {\n        children: \"\\uBA54\\uC77C\\uC744 \\uBC1B\\uC9C0 \\uBABB\\uD558\\uC168\\uB2E4\\uBA74 \\uB2E4\\uC2DC \\uC694\\uCCAD\\uD574 \\uC8FC\\uC138\\uC694.\"\n      }), visibleInput ? /*#__PURE__*/_jsxs(Form, {\n        onFinish: onFinish,\n        layout: \"vertical\",\n        children: [/*#__PURE__*/_jsx(Form.Item, {\n          children: /*#__PURE__*/_jsx(Input, {\n            type: \"email\",\n            onChange: onChangeEmail,\n            value: email,\n            size: \"large\",\n            placeholder: \"\\uAC00\\uC785\\uB41C \\uC774\\uBA54\\uC77C\\uC744 \\uC815\\uD655\\uD788 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\"\n          })\n        }), /*#__PURE__*/_jsx(Form.Item, {\n          children: /*#__PURE__*/_jsx(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            loading: isLoading,\n            size: \"large\",\n            block: true,\n            children: \"\\uC778\\uC99D\\uBA54\\uC77C \\uBCF4\\uB0B4\\uAE30\"\n          })\n        })]\n      }) : /*#__PURE__*/_jsx(Button, {\n        type: \"primary\",\n        onClick: onClickRequest,\n        size: \"large\",\n        block: true,\n        children: \"\\uC778\\uC99D \\uBA54\\uC77C \\uC694\\uCCAD\"\n      })]\n    })\n  });\n};\n\nexport default ExpiredValidation;","map":{"version":3,"sources":["C:/programming/nodejs/utopia/client/components/ExpiredValidation/index.tsx"],"names":["React","useCallback","useState","Row","Col","Form","Input","Button","Typography","Modal","axios","useRouter","useInput","Paragraph","ExpiredValidation","router","isLoading","setIsLoading","visibleInput","setVisibleInput","email","onChangeEmail","onClickRequest","onFinish","post","then","success","title","content","okText","replace","error","console","height","textAlign"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from 'react';\r\nimport { Row, Col, Form, Input, Button, Typography, Modal } from 'antd';\r\nimport axios from 'axios';\r\nimport { useRouter } from 'next/router';\r\nimport useInput from '@hooks/useInput';\r\n\r\nconst { Paragraph } = Typography;\r\n\r\nconst ExpiredValidation = () => {\r\n  const router = useRouter();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [visibleInput, setVisibleInput] = useState(false);\r\n  const [email, onChangeEmail] = useInput('');\r\n\r\n  const onClickRequest = useCallback(() => {\r\n    setVisibleInput(true);\r\n  }, []);\r\n\r\n  const onFinish = useCallback(() => {\r\n    setIsLoading(true);\r\n    axios\r\n      .post('/api/user/mail', { email })\r\n      .then(() => {\r\n        Modal.success({\r\n          title: '이메일이 전송되었습니다',\r\n          content: '이메일이 전송되었습니다. 메일확인을 부탁드려요!',\r\n          okText: '확인',\r\n        });\r\n        setIsLoading(false);\r\n        router.replace('/');\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        Modal.error({\r\n          title: '🤔 메일주소를 확인해 주세요.',\r\n          content: '가입되지 않았거나 이미 인증이 완료된 계정입니다.',\r\n          okText: '확인',\r\n        });\r\n        setIsLoading(false);\r\n      });\r\n  }, [email]);\r\n\r\n  return (\r\n    <Row justify=\"center\" align=\"middle\" style={{ height: '100vh', textAlign: 'center' }}>\r\n      <Col xs={24} md={4}>\r\n        <Paragraph>가입시 전송된 이메일로 인증을 진행해주세요!!</Paragraph>\r\n        <Paragraph>메일을 받지 못하셨다면 다시 요청해 주세요.</Paragraph>\r\n        {visibleInput ? (\r\n          <Form onFinish={onFinish} layout=\"vertical\">\r\n            <Form.Item>\r\n              <Input\r\n                type=\"email\"\r\n                onChange={onChangeEmail}\r\n                value={email}\r\n                size=\"large\"\r\n                placeholder=\"가입된 이메일을 정확히 입력해 주세요.\"\r\n              />\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\" loading={isLoading} size=\"large\" block>\r\n                인증메일 보내기\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        ) : (\r\n          <Button type=\"primary\" onClick={onClickRequest} size=\"large\" block>\r\n            인증 메일 요청\r\n          </Button>\r\n        )}\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default ExpiredValidation;\r\n"]},"metadata":{},"sourceType":"module"}