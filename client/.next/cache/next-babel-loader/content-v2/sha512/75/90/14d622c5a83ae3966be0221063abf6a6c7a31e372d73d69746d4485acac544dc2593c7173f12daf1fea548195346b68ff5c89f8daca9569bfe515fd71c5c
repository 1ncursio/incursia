{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport { Avatar, Button, Typography, Row, Col, Badge, Space } from 'antd';\nimport Link from 'next/link';\nimport styled from 'styled-components';\nimport useSWR from 'swr';\nimport { fetcher } from '@utils/fetcher';\nimport FollowButton from '@components/FollowButton';\nvar CurrentPostCover = styled.div.withConfig({\n  displayName: \"UserProfile__CurrentPostCover\",\n  componentId: \"sc-16ali0l-0\"\n})([\"background-color:rgba(255,255,255,0.5);width:100%;height:100%;position:absolute;z-index:10;\"]);\nvar Text = Typography.Text;\n\nvar UserProfile = function UserProfile(_ref) {\n  var postData = _ref.postData;\n\n  var _useSWR = useSWR('/api/user', fetcher),\n      userData = _useSWR.data;\n\n  useEffect(function () {\n    console.log(postData);\n  }, []);\n  var currentPostIndex = postData.User.Posts.findIndex(function (v) {\n    return v.id === postData.id;\n  });\n  var prevAndCurrentAndNextPost = postData.User.Posts.filter(function (v, i) {\n    return Math.abs(i - currentPostIndex) <= 1;\n  });\n  return /*#__PURE__*/_jsxs(Space, {\n    direction: \"vertical\",\n    children: [/*#__PURE__*/_jsx(Link, {\n      href: \"/user/\".concat(postData.User.id, \"/illustration\"),\n      children: /*#__PURE__*/_jsxs(\"a\", {\n        children: [/*#__PURE__*/_jsx(Avatar, {\n          size: 48,\n          src: postData.User.profile && \"http://localhost:3100/\".concat(postData.User.profile),\n          style: {\n            marginRight: 8\n          },\n          children: !postData.User.profile && postData.User.nickname[0]\n        }), /*#__PURE__*/_jsx(Text, {\n          children: postData.User.nickname\n        })]\n      })\n    }), (userData === null || userData === void 0 ? void 0 : userData.id) !== postData.User.id ? /*#__PURE__*/_jsx(FollowButton, {\n      postData: postData\n    }) : /*#__PURE__*/_jsx(Button, {\n      type: \"primary\",\n      shape: \"round\",\n      block: true,\n      children: \"\\uC791\\uD488 \\uD3B8\\uC9D1\"\n    }), /*#__PURE__*/_jsx(Row, {\n      gutter: 8,\n      children: prevAndCurrentAndNextPost.map(function (post) {\n        return /*#__PURE__*/_jsx(Col, {\n          span: 8,\n          children: /*#__PURE__*/_jsx(Link, {\n            href: \"/illustration/\".concat(post.id),\n            children: /*#__PURE__*/_jsxs(\"a\", {\n              children: [post.id === postData.id ? /*#__PURE__*/_jsx(CurrentPostCover, {}) : null, /*#__PURE__*/_jsxs(\"div\", {\n                style: {\n                  width: '100%',\n                  height: 100\n                },\n                children: [/*#__PURE__*/_jsx(\"img\", {\n                  src: \"http://localhost:3100/\".concat(post.Images[0].src),\n                  alt: post.title,\n                  style: {\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover',\n                    borderRadius: 8\n                  }\n                }, post.id), /*#__PURE__*/_jsx(Badge, {\n                  count: post.Images.length,\n                  style: {\n                    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                    position: 'absolute',\n                    right: '5px',\n                    bottom: '25px',\n                    boxShadow: 'none'\n                  }\n                })]\n              })]\n            })\n          })\n        }, post.id);\n      })\n    })]\n  });\n};\n\nexport default UserProfile;","map":{"version":3,"sources":["C:/programming/nodejs/utopia/client/components/UserProfile.tsx"],"names":["React","useEffect","Avatar","Button","Typography","Row","Col","Badge","Space","Link","styled","useSWR","fetcher","FollowButton","CurrentPostCover","div","Text","UserProfile","postData","userData","data","console","log","currentPostIndex","User","Posts","findIndex","v","id","prevAndCurrentAndNextPost","filter","i","Math","abs","profile","marginRight","nickname","map","post","width","height","Images","src","title","objectFit","borderRadius","length","backgroundColor","position","right","bottom","boxShadow"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Avatar, Button, Typography, Row, Col, Badge, Space } from 'antd';\r\nimport Link from 'next/link';\r\nimport styled from 'styled-components';\r\nimport useSWR from 'swr';\r\nimport { fetcher } from '@utils/fetcher';\r\nimport FollowButton from '@components/FollowButton';\r\nimport { IPost } from '@typings/IPost';\r\n\r\nconst CurrentPostCover = styled.div`\r\n  background-color: rgba(255, 255, 255, 0.5);\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  z-index: 10;\r\n`;\r\n\r\nconst { Text } = Typography;\r\n\r\ninterface Props {\r\n  postData: IPost;\r\n}\r\n\r\nconst UserProfile = ({ postData }: Props) => {\r\n  const { data: userData } = useSWR('/api/user', fetcher);\r\n\r\n  useEffect(() => {\r\n    console.log(postData);\r\n  }, []);\r\n  const currentPostIndex = postData.User.Posts.findIndex((v) => v.id === postData.id);\r\n  const prevAndCurrentAndNextPost = postData.User.Posts.filter((v, i) => Math.abs(i - currentPostIndex) <= 1);\r\n\r\n  return (\r\n    <Space direction=\"vertical\">\r\n      <Link href={`/user/${postData.User.id}/illustration`}>\r\n        <a>\r\n          <Avatar\r\n            size={48}\r\n            src={postData.User.profile && `http://localhost:3100/${postData.User.profile}`}\r\n            style={{ marginRight: 8 }}\r\n          >\r\n            {!postData.User.profile && postData.User.nickname[0]}\r\n          </Avatar>\r\n          <Text>{postData.User.nickname}</Text>\r\n        </a>\r\n      </Link>\r\n      {userData?.id !== postData.User.id ? (\r\n        <FollowButton postData={postData} />\r\n      ) : (\r\n        <Button type=\"primary\" shape=\"round\" block>\r\n          작품 편집\r\n        </Button>\r\n      )}\r\n      <Row gutter={8}>\r\n        {prevAndCurrentAndNextPost.map((post) => (\r\n          <Col span={8} key={post.id}>\r\n            <Link href={`/illustration/${post.id}`}>\r\n              <a>\r\n                {post.id === postData.id ? <CurrentPostCover /> : null}\r\n                <div style={{ width: '100%', height: 100 }}>\r\n                  <img\r\n                    src={`http://localhost:3100/${post.Images[0].src}`}\r\n                    key={post.id}\r\n                    alt={post.title}\r\n                    style={{ width: '100%', height: '100%', objectFit: 'cover', borderRadius: 8 }}\r\n                  />\r\n                  <Badge\r\n                    count={post.Images.length}\r\n                    style={{\r\n                      backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                      position: 'absolute',\r\n                      right: '5px',\r\n                      bottom: '25px',\r\n                      boxShadow: 'none',\r\n                    }}\r\n                  />\r\n                </div>\r\n              </a>\r\n            </Link>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </Space>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n"]},"metadata":{},"sourceType":"module"}