{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react'; // @ts-ignore\n// import { useSelector } from 'react-redux';\n\nimport { Row, Col } from 'antd';\nimport useSWR from 'swr';\nimport styled from 'styled-components';\nimport AppLayout from '@components/AppLayout';\nimport PostCard from '@components/PostCard';\nimport { fetcher } from '@utils/fetcher';\nimport ExpiredValidation from '@components/ExpiredValidation';\nconst DividerHeader = styled.div.withConfig({\n  displayName: \"pages__DividerHeader\",\n  componentId: \"tv1rzu-0\"\n})([\"height:80px;line-height:80px;margin-bottom:10px;background:#495057;h1{color:#ffffff;}\"]);\n\nconst Home = () => {\n  // const { hasMorePosts } = useSelector((state: any) => state.post);\n  const {\n    data: userData\n  } = useSWR('/api/user', fetcher);\n  const {\n    data: postsData\n  } = useSWR('/api/posts?lastId=0', fetcher);\n  const {\n    data: followingsPostsData\n  } = useSWR(userData ? '/api/posts/followings/?lastId=0' : null, fetcher);\n\n  if ((userData === null || userData === void 0 ? void 0 : userData.status) === 'pending') {\n    return /*#__PURE__*/_jsx(ExpiredValidation, {});\n  }\n\n  return /*#__PURE__*/_jsxs(AppLayout, {\n    children: [/*#__PURE__*/_jsx(DividerHeader, {\n      children: /*#__PURE__*/_jsx(Row, {\n        justify: \"center\",\n        gutter: 16,\n        children: /*#__PURE__*/_jsx(Col, {\n          span: 18,\n          children: /*#__PURE__*/_jsx(\"h1\", {\n            children: \"\\uC804\\uCCB4 \\uC791\\uD488\"\n          })\n        })\n      })\n    }), /*#__PURE__*/_jsx(Row, {\n      justify: \"center\",\n      gutter: 16,\n      children: /*#__PURE__*/_jsx(Col, {\n        span: 18,\n        children: /*#__PURE__*/_jsx(Row, {\n          gutter: [8, 8],\n          children: postsData === null || postsData === void 0 ? void 0 : postsData.map(post => /*#__PURE__*/_jsx(Col, {\n            span: 4,\n            children: /*#__PURE__*/_jsx(PostCard, {\n              post: post\n            }, post.id)\n          }, post.id))\n        })\n      })\n    }), /*#__PURE__*/_jsx(DividerHeader, {\n      children: /*#__PURE__*/_jsx(Row, {\n        justify: \"center\",\n        gutter: 16,\n        children: /*#__PURE__*/_jsx(Col, {\n          span: 18,\n          children: /*#__PURE__*/_jsx(\"h1\", {\n            children: \"\\uD314\\uB85C\\uC6B0\\uD558\\uB294 \\uC720\\uC800\\uC758 \\uC791\\uD488\"\n          })\n        })\n      })\n    }), /*#__PURE__*/_jsx(Row, {\n      justify: \"center\",\n      gutter: 16,\n      children: /*#__PURE__*/_jsx(Col, {\n        span: 18,\n        children: /*#__PURE__*/_jsx(Row, {\n          gutter: [8, 8],\n          children: userData && (followingsPostsData === null || followingsPostsData === void 0 ? void 0 : followingsPostsData.map(post => /*#__PURE__*/_jsx(Col, {\n            span: 4,\n            children: /*#__PURE__*/_jsx(PostCard, {\n              post: post\n            }, post.id)\n          }, post.id)))\n        })\n      })\n    })]\n  });\n};\n\nexport default Home;","map":{"version":3,"sources":["C:/programming/nodejs/utopia/client/pages/index.tsx"],"names":["React","Row","Col","useSWR","styled","AppLayout","PostCard","fetcher","ExpiredValidation","DividerHeader","div","Home","data","userData","postsData","followingsPostsData","status","map","post","id"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;AACA;;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,MAAzB;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAGA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,OAAOC,iBAAP,MAA8B,+BAA9B;AAEA,MAAMC,aAAa,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,6FAAnB;;AAUA,MAAMC,IAAI,GAAG,MAAM;AACjB;AAEA,QAAM;AAAEC,IAAAA,IAAI,EAAEC;AAAR,MAAqBV,MAAM,CAAQ,WAAR,EAAqBI,OAArB,CAAjC;AACA,QAAM;AAAEK,IAAAA,IAAI,EAAEE;AAAR,MAAsBX,MAAM,CAAU,qBAAV,EAAiCI,OAAjC,CAAlC;AACA,QAAM;AAAEK,IAAAA,IAAI,EAAEG;AAAR,MAAgCZ,MAAM,CAAUU,QAAQ,GAAG,iCAAH,GAAuC,IAAzD,EAA+DN,OAA/D,CAA5C;;AAEA,MAAI,CAAAM,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEG,MAAV,MAAqB,SAAzB,EAAoC;AAClC,wBAAO,KAAC,iBAAD,KAAP;AACD;;AAED,sBACE,MAAC,SAAD;AAAA,4BACE,KAAC,aAAD;AAAA,6BACE,KAAC,GAAD;AAAK,QAAA,OAAO,EAAC,QAAb;AAAsB,QAAA,MAAM,EAAE,EAA9B;AAAA,+BACE,KAAC,GAAD;AAAK,UAAA,IAAI,EAAE,EAAX;AAAA,iCACE;AAAA;AAAA;AADF;AADF;AADF,MADF,eAQE,KAAC,GAAD;AAAK,MAAA,OAAO,EAAC,QAAb;AAAsB,MAAA,MAAM,EAAE,EAA9B;AAAA,6BACE,KAAC,GAAD;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA,+BACE,KAAC,GAAD;AAAK,UAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAb;AAAA,oBACGF,SADH,aACGA,SADH,uBACGA,SAAS,CAAEG,GAAX,CAAgBC,IAAD,iBACd,KAAC,GAAD;AAAK,YAAA,IAAI,EAAE,CAAX;AAAA,mCACE,KAAC,QAAD;AAAwB,cAAA,IAAI,EAAEA;AAA9B,eAAeA,IAAI,CAACC,EAApB;AADF,aAAmBD,IAAI,CAACC,EAAxB,CADD;AADH;AADF;AADF,MARF,eAmBE,KAAC,aAAD;AAAA,6BACE,KAAC,GAAD;AAAK,QAAA,OAAO,EAAC,QAAb;AAAsB,QAAA,MAAM,EAAE,EAA9B;AAAA,+BACE,KAAC,GAAD;AAAK,UAAA,IAAI,EAAE,EAAX;AAAA,iCACE;AAAA;AAAA;AADF;AADF;AADF,MAnBF,eA0BE,KAAC,GAAD;AAAK,MAAA,OAAO,EAAC,QAAb;AAAsB,MAAA,MAAM,EAAE,EAA9B;AAAA,6BACE,KAAC,GAAD;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA,+BACE,KAAC,GAAD;AAAK,UAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAb;AAAA,oBACGN,QAAQ,KACPE,mBADO,aACPA,mBADO,uBACPA,mBAAmB,CAAEE,GAArB,CAA0BC,IAAD,iBACvB,KAAC,GAAD;AAAK,YAAA,IAAI,EAAE,CAAX;AAAA,mCACE,KAAC,QAAD;AAAwB,cAAA,IAAI,EAAEA;AAA9B,eAAeA,IAAI,CAACC,EAApB;AADF,aAAmBD,IAAI,CAACC,EAAxB,CADF,CADO;AADX;AADF;AADF,MA1BF;AAAA,IADF;AAyCD,CApDD;;AAsDA,eAAeR,IAAf","sourcesContent":["import React from 'react';\r\n// @ts-ignore\r\n// import { useSelector } from 'react-redux';\r\nimport { Row, Col } from 'antd';\r\nimport useSWR from 'swr';\r\nimport styled from 'styled-components';\r\nimport { IPost } from '@typings/IPost';\r\nimport { IUser } from '@typings/IUser';\r\nimport AppLayout from '@components/AppLayout';\r\nimport PostCard from '@components/PostCard';\r\nimport { fetcher } from '@utils/fetcher';\r\nimport ExpiredValidation from '@components/ExpiredValidation';\r\n\r\nconst DividerHeader = styled.div`\r\n  height: 80px;\r\n  line-height: 80px;\r\n  margin-bottom: 10px;\r\n  background: #495057;\r\n  h1 {\r\n    color: #ffffff;\r\n  }\r\n`;\r\n\r\nconst Home = () => {\r\n  // const { hasMorePosts } = useSelector((state: any) => state.post);\r\n\r\n  const { data: userData } = useSWR<IUser>('/api/user', fetcher);\r\n  const { data: postsData } = useSWR<IPost[]>('/api/posts?lastId=0', fetcher);\r\n  const { data: followingsPostsData } = useSWR<IPost[]>(userData ? '/api/posts/followings/?lastId=0' : null, fetcher);\r\n\r\n  if (userData?.status === 'pending') {\r\n    return <ExpiredValidation />;\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <DividerHeader>\r\n        <Row justify=\"center\" gutter={16}>\r\n          <Col span={18}>\r\n            <h1>전체 작품</h1>\r\n          </Col>\r\n        </Row>\r\n      </DividerHeader>\r\n      <Row justify=\"center\" gutter={16}>\r\n        <Col span={18}>\r\n          <Row gutter={[8, 8]}>\r\n            {postsData?.map((post) => (\r\n              <Col span={4} key={post.id}>\r\n                <PostCard key={post.id} post={post} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n      <DividerHeader>\r\n        <Row justify=\"center\" gutter={16}>\r\n          <Col span={18}>\r\n            <h1>팔로우하는 유저의 작품</h1>\r\n          </Col>\r\n        </Row>\r\n      </DividerHeader>\r\n      <Row justify=\"center\" gutter={16}>\r\n        <Col span={18}>\r\n          <Row gutter={[8, 8]}>\r\n            {userData &&\r\n              followingsPostsData?.map((post) => (\r\n                <Col span={4} key={post.id}>\r\n                  <PostCard key={post.id} post={post} />\r\n                </Col>\r\n              ))}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </AppLayout>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}