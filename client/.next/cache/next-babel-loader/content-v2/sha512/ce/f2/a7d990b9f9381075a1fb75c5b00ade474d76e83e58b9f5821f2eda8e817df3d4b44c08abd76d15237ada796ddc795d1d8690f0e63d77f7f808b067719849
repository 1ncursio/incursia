{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Card, Col, Modal, Row, Space, Typography } from 'antd';\nimport React, { useEffect } from 'react';\nimport Router from 'next/router'; // @ts-ignore\n\nimport { useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport useSWR from 'swr';\nimport SignupForm from '@components/SignupForm';\nimport { fetcher } from '@utils/fetcher';\nimport SignUpComplete from '@components/SignUpComplete';\nimport ExpiredValidation from '@components/ExpiredValidation';\nvar BackgroundImage = styled.div.withConfig({\n  displayName: \"signup__BackgroundImage\",\n  componentId: \"sc-2dfmuv-0\"\n})([\"width:100%;height:100vh;position:absolute;top:0;left:0;z-index:-1;background-image:url('https://images.unsplash.com/photo-1599084993091-1cb5c0721cc6?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');background-repeat:no-repeat;background-size:cover;background-position:center;\"]);\nvar Text = Typography.Text,\n    Title = Typography.Title;\nvar CardWrapper = styled(Card).withConfig({\n  displayName: \"signup__CardWrapper\",\n  componentId: \"sc-2dfmuv-1\"\n})([\"height:500px;opacity:0.9;border-radius:5px;text-align:center;\"]);\nvar TitleWrapper = styled(Title).withConfig({\n  displayName: \"signup__TitleWrapper\",\n  componentId: \"sc-2dfmuv-2\"\n})([\"margin-bottom:0;\"]);\n\nvar signup = function signup() {\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      signUpLoading = _useSelector.signUpLoading,\n      signUpDone = _useSelector.signUpDone,\n      signUpError = _useSelector.signUpError;\n\n  var _useSWR = useSWR('/api/user', fetcher),\n      userData = _useSWR.data;\n\n  useEffect(function () {\n    if (userData) {\n      Router.replace('/');\n    }\n  }, [userData]);\n  useEffect(function () {\n    if (signUpError) {\n      Modal.error({\n        content: signUpError\n      });\n    }\n  }, [signUpError]);\n\n  if ((userData === null || userData === void 0 ? void 0 : userData.status) === 'pending') {\n    return /*#__PURE__*/_jsx(ExpiredValidation, {});\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Row, {\n      justify: \"center\",\n      align: \"middle\",\n      style: {\n        height: '100vh'\n      },\n      children: /*#__PURE__*/_jsx(Col, {\n        xs: 24,\n        md: 6,\n        children: /*#__PURE__*/_jsx(CardWrapper, {\n          children: /*#__PURE__*/_jsxs(Space, {\n            direction: \"vertical\",\n            style: {\n              width: '90%'\n            },\n            children: [/*#__PURE__*/_jsx(TitleWrapper, {\n              level: 1,\n              children: \"\\uC720\\uD1A0\\uD53C\\uC544\"\n            }), /*#__PURE__*/_jsx(Text, {\n              type: \"secondary\",\n              children: \"\\uB2F9\\uC2E0\\uC758 \\uADF8\\uB9BC\\uC744 \\uACF5\\uC720\\uD574\\uBCF4\\uC138\\uC694\"\n            }), /*#__PURE__*/_jsx(\"br\", {}), signUpDone ? /*#__PURE__*/_jsx(SignUpComplete, {}) : /*#__PURE__*/_jsx(SignupForm, {})]\n          })\n        })\n      })\n    }), /*#__PURE__*/_jsx(BackgroundImage, {})]\n  });\n};\n\nexport default signup;","map":{"version":3,"sources":["C:/programming/nodejs/utopia/client/pages/signup.tsx"],"names":["Card","Col","Modal","Row","Space","Typography","React","useEffect","Router","useSelector","styled","useSWR","SignupForm","fetcher","SignUpComplete","ExpiredValidation","BackgroundImage","div","Text","Title","CardWrapper","TitleWrapper","signup","state","user","signUpLoading","signUpDone","signUpError","userData","data","replace","error","content","status","height","width"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,KAApB,EAA2BC,GAA3B,EAAgCC,KAAhC,EAAuCC,UAAvC,QAAyD,MAAzD;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,aAAnB,C,CACA;;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,iBAAP,MAA8B,+BAA9B;AAEA,IAAMC,eAAe,GAAGN,MAAM,CAACO,GAAV;AAAA;AAAA;AAAA,gVAArB;IAaQC,I,GAAgBb,U,CAAhBa,I;IAAMC,K,GAAUd,U,CAAVc,K;AAEd,IAAMC,WAAW,GAAGV,MAAM,CAACV,IAAD,CAAT;AAAA;AAAA;AAAA,qEAAjB;AAOA,IAAMqB,YAAY,GAAGX,MAAM,CAACS,KAAD,CAAT;AAAA;AAAA;AAAA,wBAAlB;;AAIA,IAAMG,MAAM,GAAG,SAATA,MAAS,GAAM;AAAA,qBACgCb,WAAW,CAAC,UAACc,KAAD;AAAA,WAAgBA,KAAK,CAACC,IAAtB;AAAA,GAAD,CAD3C;AAAA,MACXC,aADW,gBACXA,aADW;AAAA,MACIC,UADJ,gBACIA,UADJ;AAAA,MACgBC,WADhB,gBACgBA,WADhB;;AAAA,gBAGQhB,MAAM,CAAC,WAAD,EAAcE,OAAd,CAHd;AAAA,MAGLe,QAHK,WAGXC,IAHW;;AAKnBtB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIqB,QAAJ,EAAc;AACZpB,MAAAA,MAAM,CAACsB,OAAP,CAAe,GAAf;AACD;AACF,GAJQ,EAIN,CAACF,QAAD,CAJM,CAAT;AAMArB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIoB,WAAJ,EAAiB;AACfzB,MAAAA,KAAK,CAAC6B,KAAN,CAAY;AACVC,QAAAA,OAAO,EAAEL;AADC,OAAZ;AAGD;AACF,GANQ,EAMN,CAACA,WAAD,CANM,CAAT;;AAQA,MAAI,CAAAC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEK,MAAV,MAAqB,SAAzB,EAAoC;AAClC,wBAAO,KAAC,iBAAD,KAAP;AACD;;AAED,sBACE;AAAA,4BACE,KAAC,GAAD;AAAK,MAAA,OAAO,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,QAA5B;AAAqC,MAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAA5C;AAAA,6BACE,KAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAa,QAAA,EAAE,EAAE,CAAjB;AAAA,+BACE,KAAC,WAAD;AAAA,iCACE,MAAC,KAAD;AAAO,YAAA,SAAS,EAAC,UAAjB;AAA4B,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAAnC;AAAA,oCACE,KAAC,YAAD;AAAc,cAAA,KAAK,EAAE,CAArB;AAAA;AAAA,cADF,eAEE,KAAC,IAAD;AAAM,cAAA,IAAI,EAAC,WAAX;AAAA;AAAA,cAFF,eAGE,cAHF,EAKGT,UAAU,gBAAG,KAAC,cAAD,KAAH,gBAAwB,KAAC,UAAD,KALrC;AAAA;AADF;AADF;AADF,MADF,eAeE,KAAC,eAAD,KAfF;AAAA,IADF;AAmBD,CA1CD;;AA4CA,eAAeJ,MAAf","sourcesContent":["import { Card, Col, Modal, Row, Space, Typography } from 'antd';\r\nimport React, { useEffect } from 'react';\r\nimport Router from 'next/router';\r\n// @ts-ignore\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport useSWR from 'swr';\r\nimport SignupForm from '@components/SignupForm';\r\nimport { fetcher } from '@utils/fetcher';\r\nimport SignUpComplete from '@components/SignUpComplete';\r\nimport ExpiredValidation from '@components/ExpiredValidation';\r\n\r\nconst BackgroundImage = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: -1;\r\n  background-image: url('https://images.unsplash.com/photo-1599084993091-1cb5c0721cc6?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-position: center;\r\n`;\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nconst CardWrapper = styled(Card)`\r\n  height: 500px;\r\n  opacity: 0.9;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n`;\r\n\r\nconst TitleWrapper = styled(Title)`\r\n  margin-bottom: 0;\r\n`;\r\n\r\nconst signup = () => {\r\n  const { signUpLoading, signUpDone, signUpError } = useSelector((state: any) => state.user);\r\n\r\n  const { data: userData } = useSWR('/api/user', fetcher);\r\n\r\n  useEffect(() => {\r\n    if (userData) {\r\n      Router.replace('/');\r\n    }\r\n  }, [userData]);\r\n\r\n  useEffect(() => {\r\n    if (signUpError) {\r\n      Modal.error({\r\n        content: signUpError,\r\n      });\r\n    }\r\n  }, [signUpError]);\r\n\r\n  if (userData?.status === 'pending') {\r\n    return <ExpiredValidation />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Row justify=\"center\" align=\"middle\" style={{ height: '100vh' }}>\r\n        <Col xs={24} md={6}>\r\n          <CardWrapper>\r\n            <Space direction=\"vertical\" style={{ width: '90%' }}>\r\n              <TitleWrapper level={1}>유토피아</TitleWrapper>\r\n              <Text type=\"secondary\">당신의 그림을 공유해보세요</Text>\r\n              <br />\r\n              {/* <SignupForm /> */}\r\n              {signUpDone ? <SignUpComplete /> : <SignupForm />}\r\n              {/* <SignUpComplete /> */}\r\n            </Space>\r\n          </CardWrapper>\r\n        </Col>\r\n      </Row>\r\n      <BackgroundImage />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default signup;\r\n"]},"metadata":{},"sourceType":"module"}