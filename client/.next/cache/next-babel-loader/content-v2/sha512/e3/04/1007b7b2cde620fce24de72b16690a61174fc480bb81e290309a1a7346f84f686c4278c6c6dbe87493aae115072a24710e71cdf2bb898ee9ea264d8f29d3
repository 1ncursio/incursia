{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport { Avatar, Button, Typography, Row, Col, Badge, Space } from 'antd';\nimport Link from 'next/link';\nimport styled from 'styled-components';\nimport useSWR from 'swr';\nimport { fetcher } from '@utils/fetcher';\nimport FollowButton from '@components/FollowButton';\nconst CurrentPostCover = styled.div.withConfig({\n  displayName: \"UserProfile__CurrentPostCover\",\n  componentId: \"sc-16ali0l-0\"\n})([\"background-color:rgba(255,255,255,0.5);width:100%;height:100%;position:absolute;z-index:10;\"]);\nconst {\n  Text\n} = Typography;\n\nconst UserProfile = ({\n  postData\n}) => {\n  const {\n    data: userData\n  } = useSWR('/api/user', fetcher);\n  useEffect(() => {\n    console.log(postData);\n  }, []);\n  const currentPostIndex = postData.User.Posts.findIndex(v => v.id === postData.id);\n  const prevAndCurrentAndNextPost = postData.User.Posts.filter((v, i) => Math.abs(i - currentPostIndex) <= 1);\n  return /*#__PURE__*/_jsxs(Space, {\n    direction: \"vertical\",\n    children: [/*#__PURE__*/_jsx(Link, {\n      href: `/user/${postData.User.id}/illustration`,\n      children: /*#__PURE__*/_jsxs(\"a\", {\n        children: [/*#__PURE__*/_jsx(Avatar, {\n          size: 48,\n          src: postData.User.profile && `http://localhost:3100/${postData.User.profile}`,\n          style: {\n            marginRight: 8\n          },\n          children: !postData.User.profile && postData.User.nickname[0]\n        }), /*#__PURE__*/_jsx(Text, {\n          children: postData.User.nickname\n        })]\n      })\n    }), (userData === null || userData === void 0 ? void 0 : userData.id) !== postData.User.id ? /*#__PURE__*/_jsx(FollowButton, {\n      postData: postData\n    }) : /*#__PURE__*/_jsx(Button, {\n      type: \"primary\",\n      shape: \"round\",\n      block: true,\n      children: \"\\uC791\\uD488 \\uD3B8\\uC9D1\"\n    }), /*#__PURE__*/_jsx(Row, {\n      gutter: 8,\n      children: prevAndCurrentAndNextPost.map(post => /*#__PURE__*/_jsx(Col, {\n        span: 8,\n        children: /*#__PURE__*/_jsx(Link, {\n          href: `/illustration/${post.id}`,\n          children: /*#__PURE__*/_jsxs(\"a\", {\n            children: [post.id === postData.id ? /*#__PURE__*/_jsx(CurrentPostCover, {}) : null, /*#__PURE__*/_jsxs(\"div\", {\n              style: {\n                width: '100%',\n                height: 100\n              },\n              children: [/*#__PURE__*/_jsx(\"img\", {\n                src: `http://localhost:3100/${post.Images[0].src}`,\n                alt: post.title,\n                style: {\n                  width: '100%',\n                  height: '100%',\n                  objectFit: 'cover',\n                  borderRadius: 8\n                }\n              }, post.id), /*#__PURE__*/_jsx(Badge, {\n                count: post.Images.length,\n                style: {\n                  backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                  position: 'absolute',\n                  right: '5px',\n                  bottom: '25px',\n                  boxShadow: 'none'\n                }\n              })]\n            })]\n          })\n        })\n      }, post.id))\n    })]\n  });\n};\n\nexport default UserProfile;","map":{"version":3,"sources":["C:/programming/nodejs/utopia/client/components/UserProfile.tsx"],"names":["React","useEffect","Avatar","Button","Typography","Row","Col","Badge","Space","Link","styled","useSWR","fetcher","FollowButton","CurrentPostCover","div","Text","UserProfile","postData","data","userData","console","log","currentPostIndex","User","Posts","findIndex","v","id","prevAndCurrentAndNextPost","filter","i","Math","abs","profile","marginRight","nickname","map","post","width","height","Images","src","title","objectFit","borderRadius","length","backgroundColor","position","right","bottom","boxShadow"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Avatar, Button, Typography, Row, Col, Badge, Space } from 'antd';\r\nimport Link from 'next/link';\r\nimport styled from 'styled-components';\r\nimport useSWR from 'swr';\r\nimport { fetcher } from '@utils/fetcher';\r\nimport FollowButton from '@components/FollowButton';\r\nimport { IPost } from '@typings/IPost';\r\n\r\nconst CurrentPostCover = styled.div`\r\n  background-color: rgba(255, 255, 255, 0.5);\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  z-index: 10;\r\n`;\r\n\r\nconst { Text } = Typography;\r\n\r\ninterface Props {\r\n  postData: IPost;\r\n}\r\n\r\nconst UserProfile = ({ postData }: Props) => {\r\n  const { data: userData } = useSWR('/api/user', fetcher);\r\n\r\n  useEffect(() => {\r\n    console.log(postData);\r\n  }, []);\r\n  const currentPostIndex = postData.User.Posts.findIndex((v) => v.id === postData.id);\r\n  const prevAndCurrentAndNextPost = postData.User.Posts.filter((v, i) => Math.abs(i - currentPostIndex) <= 1);\r\n\r\n  return (\r\n    <Space direction=\"vertical\">\r\n      <Link href={`/user/${postData.User.id}/illustration`}>\r\n        <a>\r\n          <Avatar\r\n            size={48}\r\n            src={postData.User.profile && `http://localhost:3100/${postData.User.profile}`}\r\n            style={{ marginRight: 8 }}\r\n          >\r\n            {!postData.User.profile && postData.User.nickname[0]}\r\n          </Avatar>\r\n          <Text>{postData.User.nickname}</Text>\r\n        </a>\r\n      </Link>\r\n      {userData?.id !== postData.User.id ? (\r\n        <FollowButton postData={postData} />\r\n      ) : (\r\n        <Button type=\"primary\" shape=\"round\" block>\r\n          작품 편집\r\n        </Button>\r\n      )}\r\n      <Row gutter={8}>\r\n        {prevAndCurrentAndNextPost.map((post) => (\r\n          <Col span={8} key={post.id}>\r\n            <Link href={`/illustration/${post.id}`}>\r\n              <a>\r\n                {post.id === postData.id ? <CurrentPostCover /> : null}\r\n                <div style={{ width: '100%', height: 100 }}>\r\n                  <img\r\n                    src={`http://localhost:3100/${post.Images[0].src}`}\r\n                    key={post.id}\r\n                    alt={post.title}\r\n                    style={{ width: '100%', height: '100%', objectFit: 'cover', borderRadius: 8 }}\r\n                  />\r\n                  <Badge\r\n                    count={post.Images.length}\r\n                    style={{\r\n                      backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                      position: 'absolute',\r\n                      right: '5px',\r\n                      bottom: '25px',\r\n                      boxShadow: 'none',\r\n                    }}\r\n                  />\r\n                </div>\r\n              </a>\r\n            </Link>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </Space>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n"]},"metadata":{},"sourceType":"module"}