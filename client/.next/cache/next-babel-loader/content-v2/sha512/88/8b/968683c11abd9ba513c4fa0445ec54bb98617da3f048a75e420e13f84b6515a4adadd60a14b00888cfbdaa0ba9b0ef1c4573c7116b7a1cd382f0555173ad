{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\programming\\\\nodejs\\\\utopia\\\\client\\\\pages\\\\index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react'; // @ts-ignore\n\nimport { useSelector } from 'react-redux';\nimport { Row, Col } from 'antd';\nimport useSWR from 'swr';\nimport styled from 'styled-components';\nimport AppLayout from '../components/AppLayout';\nimport PostCard from '../components/PostCard';\nimport { fetcher } from '../util/fetcher';\nimport ExpiredValidation from '../components/ExpiredValidation';\nvar DividerHeader = styled.div.withConfig({\n  displayName: \"pages__DividerHeader\",\n  componentId: \"tv1rzu-0\"\n})([\"height:80px;line-height:80px;margin-bottom:10px;background:#495057;h1{color:#ffffff;}\"]);\n_c = DividerHeader;\n\nvar Home = function Home() {\n  _s();\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      hasMorePosts = _useSelector.hasMorePosts;\n\n  var _useSWR = useSWR('/api/user', fetcher),\n      userData = _useSWR.data;\n\n  var _useSWR2 = useSWR('/api/posts?lastId=0', fetcher),\n      postsData = _useSWR2.data;\n\n  var _useSWR3 = useSWR(userData ? '/api/posts/followings/?lastId=0' : null, fetcher),\n      followingsPostsData = _useSWR3.data;\n\n  if ((userData === null || userData === void 0 ? void 0 : userData.status) === 'pending') {\n    return /*#__PURE__*/_jsxDEV(ExpiredValidation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 12\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(AppLayout, {\n    children: [/*#__PURE__*/_jsxDEV(DividerHeader, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        justify: \"center\",\n        gutter: 16,\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          span: 18,\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\uC804\\uCCB4 \\uC791\\uD488\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Row, {\n      justify: \"center\",\n      gutter: 16,\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 18,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          gutter: [8, 8],\n          children: postsData === null || postsData === void 0 ? void 0 : postsData.map(function (post) {\n            return /*#__PURE__*/_jsxDEV(Col, {\n              span: 4,\n              children: /*#__PURE__*/_jsxDEV(PostCard, {\n                post: post\n              }, post.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 17\n              }, _this)\n            }, post.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(DividerHeader, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        justify: \"center\",\n        gutter: 16,\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          span: 18,\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\uD314\\uB85C\\uC6B0\\uD558\\uB294 \\uC720\\uC800\\uC758 \\uC791\\uD488\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Row, {\n      justify: \"center\",\n      gutter: 16,\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 18,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          gutter: [8, 8],\n          children: userData && (followingsPostsData === null || followingsPostsData === void 0 ? void 0 : followingsPostsData.map(function (post) {\n            return /*#__PURE__*/_jsxDEV(Col, {\n              span: 4,\n              children: /*#__PURE__*/_jsxDEV(PostCard, {\n                post: post\n              }, post.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, _this)\n            }, post.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, _this);\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Home, \"HNKu7YH7lNLdlIXumFUIe7OC1JE=\", false, function () {\n  return [useSelector, useSWR, useSWR, useSWR];\n});\n\n_c2 = Home;\nexport default Home;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DividerHeader\");\n$RefreshReg$(_c2, \"Home\");","map":{"version":3,"sources":["C:/programming/nodejs/utopia/client/pages/index.tsx"],"names":["React","useSelector","Row","Col","useSWR","styled","AppLayout","PostCard","fetcher","ExpiredValidation","DividerHeader","div","Home","state","post","hasMorePosts","userData","data","postsData","followingsPostsData","status","map","id"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,MAAzB;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,iBAAP,MAA8B,iCAA9B;AAEA,IAAMC,aAAa,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,6FAAnB;KAAMD,a;;AAUN,IAAME,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA;;AAAA,qBACQX,WAAW,CAAC,UAACY,KAAD;AAAA,WAAgBA,KAAK,CAACC,IAAtB;AAAA,GAAD,CADnB;AAAA,MACTC,YADS,gBACTA,YADS;;AAAA,gBAGUX,MAAM,CAAQ,WAAR,EAAqBI,OAArB,CAHhB;AAAA,MAGHQ,QAHG,WAGTC,IAHS;;AAAA,iBAIWb,MAAM,CAAC,qBAAD,EAAwBI,OAAxB,CAJjB;AAAA,MAIHU,SAJG,YAITD,IAJS;;AAAA,iBAKqBb,MAAM,CAACY,QAAQ,GAAG,iCAAH,GAAuC,IAAhD,EAAsDR,OAAtD,CAL3B;AAAA,MAKHW,mBALG,YAKTF,IALS;;AAOjB,MAAI,CAAAD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEI,MAAV,MAAqB,SAAzB,EAAoC;AAClC,wBAAO,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,aAAP;AACD;;AAED,sBACE,QAAC,SAAD;AAAA,4BACE,QAAC,aAAD;AAAA,6BACE,QAAC,GAAD;AAAK,QAAA,OAAO,EAAC,QAAb;AAAsB,QAAA,MAAM,EAAE,EAA9B;AAAA,+BACE,QAAC,GAAD;AAAK,UAAA,IAAI,EAAE,EAAX;AAAA,iCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,aADF,eAQE,QAAC,GAAD;AAAK,MAAA,OAAO,EAAC,QAAb;AAAsB,MAAA,MAAM,EAAE,EAA9B;AAAA,6BACE,QAAC,GAAD;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA,+BACE,QAAC,GAAD;AAAK,UAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAb;AAAA,oBACGF,SADH,aACGA,SADH,uBACGA,SAAS,CAAEG,GAAX,CAAe,UAACP,IAAD;AAAA,gCACd,QAAC,GAAD;AAAK,cAAA,IAAI,EAAE,CAAX;AAAA,qCACE,QAAC,QAAD;AAAwB,gBAAA,IAAI,EAAEA;AAA9B,iBAAeA,IAAI,CAACQ,EAApB;AAAA;AAAA;AAAA;AAAA;AADF,eAAmBR,IAAI,CAACQ,EAAxB;AAAA;AAAA;AAAA;AAAA,qBADc;AAAA,WAAf;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,aARF,eAmBE,QAAC,aAAD;AAAA,6BACE,QAAC,GAAD;AAAK,QAAA,OAAO,EAAC,QAAb;AAAsB,QAAA,MAAM,EAAE,EAA9B;AAAA,+BACE,QAAC,GAAD;AAAK,UAAA,IAAI,EAAE,EAAX;AAAA,iCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,aAnBF,eA0BE,QAAC,GAAD;AAAK,MAAA,OAAO,EAAC,QAAb;AAAsB,MAAA,MAAM,EAAE,EAA9B;AAAA,6BACE,QAAC,GAAD;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA,+BACE,QAAC,GAAD;AAAK,UAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAb;AAAA,oBACGN,QAAQ,KACPG,mBADO,aACPA,mBADO,uBACPA,mBAAmB,CAAEE,GAArB,CAAyB,UAACP,IAAD;AAAA,gCACvB,QAAC,GAAD;AAAK,cAAA,IAAI,EAAE,CAAX;AAAA,qCACE,QAAC,QAAD;AAAwB,gBAAA,IAAI,EAAEA;AAA9B,iBAAeA,IAAI,CAACQ,EAApB;AAAA;AAAA;AAAA;AAAA;AADF,eAAmBR,IAAI,CAACQ,EAAxB;AAAA;AAAA;AAAA;AAAA,qBADuB;AAAA,WAAzB,CADO;AADX;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,aA1BF;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAyCD,CApDD;;GAAMV,I;UACqBX,W,EAEEG,M,EACCA,M,EACUA,M;;;MALlCQ,I;AAsDN,eAAeA,IAAf","sourcesContent":["import React from 'react';\r\n// @ts-ignore\r\nimport { useSelector } from 'react-redux';\r\nimport { Row, Col } from 'antd';\r\nimport useSWR from 'swr';\r\nimport styled from 'styled-components';\r\nimport { IPost, IUser } from '@typings/db';\r\nimport AppLayout from '../components/AppLayout';\r\nimport PostCard from '../components/PostCard';\r\nimport { fetcher } from '../util/fetcher';\r\nimport ExpiredValidation from '../components/ExpiredValidation';\r\n\r\nconst DividerHeader = styled.div`\r\n  height: 80px;\r\n  line-height: 80px;\r\n  margin-bottom: 10px;\r\n  background: #495057;\r\n  h1 {\r\n    color: #ffffff;\r\n  }\r\n`;\r\n\r\nconst Home = () => {\r\n  const { hasMorePosts } = useSelector((state: any) => state.post);\r\n\r\n  const { data: userData } = useSWR<IUser>('/api/user', fetcher);\r\n  const { data: postsData } = useSWR('/api/posts?lastId=0', fetcher);\r\n  const { data: followingsPostsData } = useSWR(userData ? '/api/posts/followings/?lastId=0' : null, fetcher);\r\n\r\n  if (userData?.status === 'pending') {\r\n    return <ExpiredValidation />;\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <DividerHeader>\r\n        <Row justify=\"center\" gutter={16}>\r\n          <Col span={18}>\r\n            <h1>전체 작품</h1>\r\n          </Col>\r\n        </Row>\r\n      </DividerHeader>\r\n      <Row justify=\"center\" gutter={16}>\r\n        <Col span={18}>\r\n          <Row gutter={[8, 8]}>\r\n            {postsData?.map((post) => (\r\n              <Col span={4} key={post.id}>\r\n                <PostCard key={post.id} post={post} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n      <DividerHeader>\r\n        <Row justify=\"center\" gutter={16}>\r\n          <Col span={18}>\r\n            <h1>팔로우하는 유저의 작품</h1>\r\n          </Col>\r\n        </Row>\r\n      </DividerHeader>\r\n      <Row justify=\"center\" gutter={16}>\r\n        <Col span={18}>\r\n          <Row gutter={[8, 8]}>\r\n            {userData &&\r\n              followingsPostsData?.map((post) => (\r\n                <Col span={4} key={post.id}>\r\n                  <PostCard key={post.id} post={post} />\r\n                </Col>\r\n              ))}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </AppLayout>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}