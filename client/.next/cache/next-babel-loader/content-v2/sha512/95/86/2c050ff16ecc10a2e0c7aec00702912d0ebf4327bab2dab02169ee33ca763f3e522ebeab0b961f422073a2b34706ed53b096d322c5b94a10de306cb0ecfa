{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { Col, Row } from 'antd';\nimport { useRouter } from 'next/router';\nimport AppLayout from '@components/AppLayout';\nimport useSWR from 'swr';\nimport { fetcher } from '@utils/fetcher';\nimport PostCard from '@components/PostCard';\nimport UserPageMenu from '@components/UserPageMenu';\nimport UserPageProfile from '@components/UserPageProfile';\nimport ExpiredValidation from '@components/ExpiredValidation';\nimport { MenuHeaderWrapper, MenuHeader } from '@pages/user/[id]/style';\n\nvar UserIllustration = function UserIllustration(_ref) {\n  var initialUser = _ref.user,\n      initialPosts = _ref.posts;\n  var router = useRouter();\n  var id = router.query.id;\n\n  var _useSWR = useSWR(\"/api/user/\".concat(id, \"?lastId=0\"), fetcher, {\n    initialData: initialUser\n  }),\n      userData = _useSWR.data;\n\n  var _useSWR2 = useSWR(\"/api/user/\".concat(id, \"/posts\"), fetcher, {\n    initialData: initialPosts\n  }),\n      postsData = _useSWR2.data;\n\n  if ((userData === null || userData === void 0 ? void 0 : userData.status) === 'pending') {\n    return /*#__PURE__*/_jsx(ExpiredValidation, {});\n  }\n\n  return /*#__PURE__*/_jsx(AppLayout, {\n    children: /*#__PURE__*/_jsx(Row, {\n      justify: \"center\",\n      gutter: 16,\n      children: /*#__PURE__*/_jsxs(Col, {\n        span: 18,\n        children: [/*#__PURE__*/_jsx(UserPageProfile, {\n          userData: userData\n        }), id && /*#__PURE__*/_jsx(UserPageMenu, {\n          current: \"illustration\",\n          userId: parseInt(id, 10)\n        }), /*#__PURE__*/_jsx(MenuHeaderWrapper, {\n          children: /*#__PURE__*/_jsx(MenuHeader, {\n            children: \"\".concat(postsData.length, \"\\uAC1C\\uC758 \\uC77C\\uB7EC\\uC2A4\\uD2B8\")\n          })\n        }), /*#__PURE__*/_jsx(Row, {\n          gutter: [8, 8],\n          children: postsData === null || postsData === void 0 ? void 0 : postsData.map(function (post) {\n            return /*#__PURE__*/_jsx(Col, {\n              xs: 24,\n              md: 4,\n              children: /*#__PURE__*/_jsx(PostCard, {\n                post: post,\n                avatarVisible: false\n              }, post.id)\n            }, post.id);\n          })\n        })]\n      })\n    })\n  });\n};\n\nexport var __N_SSP = true;\nexport default UserIllustration;","map":{"version":3,"sources":["C:/programming/nodejs/utopia/client/pages/user/[id]/illustration.tsx"],"names":["React","Col","Row","useRouter","AppLayout","useSWR","fetcher","PostCard","UserPageMenu","UserPageProfile","ExpiredValidation","MenuHeaderWrapper","MenuHeader","UserIllustration","initialUser","user","initialPosts","posts","router","id","query","initialData","userData","data","postsData","status","parseInt","length","map","post"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,MAAzB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,MAAP,MAAmB,KAAnB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AAGA,OAAOC,iBAAP,MAA8B,+BAA9B;AACA,SAASC,iBAAT,EAA4BC,UAA5B,QAA8C,wBAA9C;;AAQA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAuD;AAAA,MAA9CC,WAA8C,QAApDC,IAAoD;AAAA,MAA1BC,YAA0B,QAAjCC,KAAiC;AAC9E,MAAMC,MAAM,GAAGf,SAAS,EAAxB;AAD8E,MAGtEgB,EAHsE,GAG9CD,MAAM,CAACE,KAHuC,CAGtED,EAHsE;;AAAA,gBAKnDd,MAAM,qBAAcc,EAAd,gBAA6Bb,OAA7B,EAAsC;AAAEe,IAAAA,WAAW,EAAEP;AAAf,GAAtC,CAL6C;AAAA,MAKhEQ,QALgE,WAKtEC,IALsE;;AAAA,iBAOlDlB,MAAM,qBAAcc,EAAd,aAA0Bb,OAA1B,EAAmC;AAAEe,IAAAA,WAAW,EAAEL;AAAf,GAAnC,CAP4C;AAAA,MAOhEQ,SAPgE,YAOtED,IAPsE;;AAS9E,MAAI,CAAAD,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEG,MAAV,MAAqB,SAAzB,EAAoC;AAClC,wBAAO,KAAC,iBAAD,KAAP;AACD;;AAED,sBACE,KAAC,SAAD;AAAA,2BACE,KAAC,GAAD;AAAK,MAAA,OAAO,EAAC,QAAb;AAAsB,MAAA,MAAM,EAAE,EAA9B;AAAA,6BACE,MAAC,GAAD;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA,gCACE,KAAC,eAAD;AAAiB,UAAA,QAAQ,EAAEH;AAA3B,UADF,EAEGH,EAAE,iBAAI,KAAC,YAAD;AAAc,UAAA,OAAO,EAAC,cAAtB;AAAqC,UAAA,MAAM,EAAEO,QAAQ,CAACP,EAAD,EAAK,EAAL;AAArD,UAFT,eAGE,KAAC,iBAAD;AAAA,iCACE,KAAC,UAAD;AAAA,gCAAgBK,SAAS,CAACG,MAA1B;AAAA;AADF,UAHF,eAME,KAAC,GAAD;AAAK,UAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAb;AAAA,oBACGH,SADH,aACGA,SADH,uBACGA,SAAS,CAAEI,GAAX,CAAe,UAACC,IAAD;AAAA,gCACd,KAAC,GAAD;AAAK,cAAA,EAAE,EAAE,EAAT;AAAa,cAAA,EAAE,EAAE,CAAjB;AAAA,qCACE,KAAC,QAAD;AAAwB,gBAAA,IAAI,EAAEA,IAA9B;AAAoC,gBAAA,aAAa,EAAE;AAAnD,iBAAeA,IAAI,CAACV,EAApB;AADF,eAAyBU,IAAI,CAACV,EAA9B,CADc;AAAA,WAAf;AADH,UANF;AAAA;AADF;AADF,IADF;AAoBD,CAjCD;;;AAyCA,eAAeN,gBAAf","sourcesContent":["import React from 'react';\r\nimport { Col, Row } from 'antd';\r\nimport { useRouter } from 'next/router';\r\nimport AppLayout from '@components/AppLayout';\r\nimport useSWR from 'swr';\r\nimport { fetcher } from '@utils/fetcher';\r\nimport PostCard from '@components/PostCard';\r\nimport UserPageMenu from '@components/UserPageMenu';\r\nimport UserPageProfile from '@components/UserPageProfile';\r\nimport { IUser } from '@typings/IUser';\r\nimport { IPost } from '@typings/IPost';\r\nimport ExpiredValidation from '@components/ExpiredValidation';\r\nimport { MenuHeaderWrapper, MenuHeader } from '@pages/user/[id]/style';\r\nimport wrapper from '../../../store/configureStore';\r\n\r\ninterface Props {\r\n  user: IUser;\r\n  posts: IPost[];\r\n}\r\n\r\nconst UserIllustration = ({ user: initialUser, posts: initialPosts }: Props) => {\r\n  const router = useRouter();\r\n\r\n  const { id }: { id?: string } = router.query;\r\n\r\n  const { data: userData } = useSWR(`/api/user/${id}?lastId=0`, fetcher, { initialData: initialUser });\r\n\r\n  const { data: postsData } = useSWR(`/api/user/${id}/posts`, fetcher, { initialData: initialPosts });\r\n\r\n  if (userData?.status === 'pending') {\r\n    return <ExpiredValidation />;\r\n  }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Row justify=\"center\" gutter={16}>\r\n        <Col span={18}>\r\n          <UserPageProfile userData={userData} />\r\n          {id && <UserPageMenu current=\"illustration\" userId={parseInt(id, 10)} />}\r\n          <MenuHeaderWrapper>\r\n            <MenuHeader>{`${postsData.length}개의 일러스트`}</MenuHeader>\r\n          </MenuHeaderWrapper>\r\n          <Row gutter={[8, 8]}>\r\n            {postsData?.map((post: IPost) => (\r\n              <Col xs={24} md={4} key={post.id}>\r\n                <PostCard key={post.id} post={post} avatarVisible={false} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </AppLayout>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps(async (context) => {\r\n  const user = await fetcher(`/api/user/${context.params?.id}?lastId=0`);\r\n  const posts = await fetcher(`/api/user/${context.params?.id}/posts`);\r\n  return { props: { user, posts } };\r\n});\r\n\r\nexport default UserIllustration;\r\n"]},"metadata":{},"sourceType":"module"}